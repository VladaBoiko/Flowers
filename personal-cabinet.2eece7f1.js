function e(e){return e&&e.__esModule?e.default:e}function t(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},s=r.parcelRequired7c6;null==s&&((s=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){o[e]=t},r.parcelRequired7c6=s),s.register("bMZn5",(function(r,n){t(r.exports,"signUp",(function(){return u})),t(r.exports,"logIn",(function(){return l})),t(r.exports,"logOut",(function(){return i}));const o=e(s("2shzp")).create({baseURL:"https://server-flower.herokuapp.com/user"}),a={set(e){o.defaults.headers.common.Authorization=`Bearer ${e}`},unset(){o.defaults.headers.common.Authorization=""}},u=async e=>{try{return await o.post("/signup",e)}catch(e){return e.response.status}},l=async e=>{try{const{data:t}=await o.post("/",e);return a.set(t.token),t}catch(e){return e.response.status}},i=async()=>{try{const{status:e}=await o.get("/");return 204===e&&a.unset(),e}catch(e){return e.response.status}}})),s.register("586JT",(function(e,r){function n(e,t){e.textContent=t,e.style.opacity=1,setTimeout((()=>{e.style.opacity=0}),2500)}t(e.exports,"showAlertText",(function(){return n}))}));var a=s("gbvap"),u=s("bMZn5"),l=s("b6H2N"),i=s("586JT");a.refs.regForm.addEventListener("submit",(function(e){e.preventDefault(),a.refs.regSubmitBtn.blur();const t={name:null,email:null,password:null,confirmPassword:null},{elements:{name:r,email:n,password:o,confirmPassword:s}}=e.currentTarget;if(t.name=r.value,t.email=n.value,t.password=o.value,t.confirmPassword=s.value,""===r.value||""===n.value||""===o.value||""===s.value)return void(0,i.showAlertText)(a.refs.regFormAlertText,"Будь ласка, заповніть усі поля");if(o.value!==s.value)return void(0,i.showAlertText)(a.refs.regFormAlertText,"Паролі не співпадають, спробуйте ще раз");a.refs.regForm.reset(),(0,l.onCloseModal)(),async function(e){409===await(0,u.signUp)(e)?(0,i.showAlertText)(a.refs.alertText,"Такий користувач вже зареєстрований"):(0,i.showAlertText)(a.refs.alertText,"Для продовження реєстрації, підтвердьте Вашу пошту")}(t)}));
//# sourceMappingURL=personal-cabinet.2eece7f1.js.map
