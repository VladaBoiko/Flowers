var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},r=e.parcelRequired7c6;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in a){var r=a[e];delete a[e];var n={id:e,exports:{}};return t[e]=n,r.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){a[e]=t},e.parcelRequired7c6=r);var n=r("luHVj"),o=r("gBFI5"),s=r("8qLFi"),l=r("5rfeO");const i=(e,t)=>{e.insertAdjacentHTML("beforeend",t),(0,s.handleFavorite)(),document.querySelectorAll(".product").forEach((e=>e.addEventListener("click",(t=>{event.preventDefault();const a=e.id;if(("svg"===t.target.nodeName||"use"===t.target.nodeName)&&t.target.closest(".product__favorite")||t.target.classList.contains("product__favorite")||(0,l.saveToLocalStorage)("CurrentCardID",a),a){const e=(0,l.loadFromLocalStorage)("EarlierWatched");if("undefined"===e){const e=[a];(0,l.saveToLocalStorage)("EarlierWatched",e)}else-1===e.indexOf(a)&&(e.push(a),(0,l.saveToLocalStorage)("EarlierWatched",e))}}))))};var c=r("iQGQJ");function d(e){const{height:t}=e.firstElementChild.getBoundingClientRect();window.scrollBy({top:1*t+10,behavior:"smooth"})}var f=r("fov3b"),g=r("2DEdq");f.reviewsSwiper.enabled=!0;const u={resetFormBtn:document.querySelector(".filter-catalog__clear-all-btn"),form:document.querySelector(".filter-catalog"),catalogList:document.querySelector(".catalog-list")},h={selector:u.catalogList,filterParams:{},page:1,totalPages:1,offset:9,incrementPage(){this.page+=1},resetPage(){this.page=1,this.filterParams={}},async renderData(){try{const e=await n.APIGetData.getData(),t=(0,c.filterData)(e,this.filterParams);t.length<=this.offset&&m.hide(),this.totalPages=t.length/this.offset;const a=function(e,t,a){const r=e.length/a,n=t*a-a,o=n+a;if(e.length>a)return t<r?e.slice(n,o):e.slice(n);return e}(t,this.page,this.offset),r=(0,o.createMarkup)(a);i(u.catalogList,r)}catch(e){console.log(e)}}};u.form.reset(),h.renderData(),u.resetFormBtn.addEventListener("click",(()=>{h.resetPage(),(0,o.clearData)(u.catalogList),u.form.reset(),m.show(),m.enable(),h.renderData()})),u.form.addEventListener("change",(()=>{(0,o.clearData)(u.catalogList),h.resetPage(),h.filterParams=function(){const e={category:[],sort:[],color:[],amount:[],size:[],form:[],price:[]};return[...u.form].map((t=>{if("INPUT"===t.nodeName&&t.checked){const a=t.parentElement.parentElement.previousElementSibling.textContent,r=t.nextElementSibling.textContent,n=(0,g.default)(a,c.filterWords),o="amount"===n||"size"===n?Number.parseInt(r):r;-1===e[n].indexOf(r)&&e[n].push(o)}})),e}(),h.renderData(),m.show(),m.enable()}));const m={element:document.querySelector(".catalog__btn"),className:"hidden",disable(){this.element.disabled=!0},enable(){this.element.disabled=!1},hide(){this.element.classList.add(this.className)},show(){this.element.classList.remove(this.className)}};m.element.addEventListener("click",(()=>{m.disable(),h.incrementPage(),h.renderData(),h.page>=h.totalPages?m.hide():m.enable(),d(u.catalogList)}));
//# sourceMappingURL=catalog.285ab7e2.js.map
