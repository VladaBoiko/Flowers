{"mappings":"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","sources":["src/js/spollers.js"],"sourcesContent":["spollers();\n\nfunction spollers() {\n  const spollersArray = document.querySelectorAll('[data-spollers]');\n  if (spollersArray.length > 0) {\n    // Получение обычных слойлеров\n    const spollersRegular = Array.from(spollersArray).filter(function (\n      item,\n      index,\n      self\n    ) {\n      return !item.dataset.spollers.split(',')[0];\n    });\n    // Инициализация обычных слойлеров\n    if (spollersRegular.length) {\n      initSpollers(spollersRegular);\n    }\n    // Получение слойлеров с медиа запросами\n    let mdQueriesArray = dataMediaQueries(spollersArray, 'spollers');\n    if (mdQueriesArray && mdQueriesArray.length) {\n      mdQueriesArray.forEach(mdQueriesItem => {\n        // Событие\n        mdQueriesItem.matchMedia.addEventListener('change', function () {\n          initSpollers(mdQueriesItem.itemsArray, mdQueriesItem.matchMedia);\n        });\n        initSpollers(mdQueriesItem.itemsArray, mdQueriesItem.matchMedia);\n      });\n    }\n    // Инициализация\n    function initSpollers(spollersArray, matchMedia = false) {\n      spollersArray.forEach(spollersBlock => {\n        spollersBlock = matchMedia ? spollersBlock.item : spollersBlock;\n        if (matchMedia.matches || !matchMedia) {\n          spollersBlock.classList.add('_spoller-init');\n          initSpollerBody(spollersBlock);\n          spollersBlock.addEventListener('click', setSpollerAction);\n        } else {\n          spollersBlock.classList.remove('_spoller-init');\n          initSpollerBody(spollersBlock, false);\n          spollersBlock.removeEventListener('click', setSpollerAction);\n        }\n      });\n    }\n    // Работа с контентом\n    function initSpollerBody(spollersBlock, hideSpollerBody = true) {\n      let spollerTitles = spollersBlock.querySelectorAll('[data-spoller]');\n      if (spollerTitles.length) {\n        spollerTitles = Array.from(spollerTitles).filter(\n          item => item.closest('[data-spollers]') === spollersBlock\n        );\n        spollerTitles.forEach(spollerTitle => {\n          if (hideSpollerBody) {\n            spollerTitle.removeAttribute('tabindex');\n            if (!spollerTitle.classList.contains('_spoller-active')) {\n              spollerTitle.nextElementSibling.hidden = true;\n            }\n          } else {\n            spollerTitle.setAttribute('tabindex', '-1');\n            spollerTitle.nextElementSibling.hidden = false;\n          }\n        });\n      }\n    }\n    function setSpollerAction(e) {\n      const el = e.target;\n      if (el.closest('[data-spoller]')) {\n        const spollerTitle = el.closest('[data-spoller]');\n        const spollersBlock = spollerTitle.closest('[data-spollers]');\n        const oneSpoller = spollersBlock.hasAttribute('data-one-spoller');\n        const spollerSpeed = spollersBlock.dataset.spollersSpeed\n          ? parseInt(spollersBlock.dataset.spollersSpeed)\n          : 500;\n        if (!spollersBlock.querySelectorAll('._slide').length) {\n          if (\n            oneSpoller &&\n            !spollerTitle.classList.contains('_spoller-active')\n          ) {\n            hideSpollersBody(spollersBlock);\n          }\n          spollerTitle.classList.toggle('_spoller-active');\n          _slideToggle(spollerTitle.nextElementSibling, spollerSpeed);\n        }\n        e.preventDefault();\n      }\n    }\n    function hideSpollersBody(spollersBlock) {\n      const spollerActiveTitle = spollersBlock.querySelector(\n        '[data-spoller]._spoller-active'\n      );\n      const spollerSpeed = spollersBlock.dataset.spollersSpeed\n        ? parseInt(spollersBlock.dataset.spollersSpeed)\n        : 500;\n      if (\n        spollerActiveTitle &&\n        !spollersBlock.querySelectorAll('._slide').length\n      ) {\n        spollerActiveTitle.classList.remove('_spoller-active');\n        _slideUp(spollerActiveTitle.nextElementSibling, spollerSpeed);\n      }\n    }\n    // Закрытие при клике вне спойлера\n    const spollersClose = document.querySelectorAll('[data-spoller-close]');\n    if (spollersClose.length) {\n      document.addEventListener('click', function (e) {\n        const el = e.target;\n        if (!el.closest('[data-spollers]')) {\n          spollersClose.forEach(spollerClose => {\n            const spollersBlock = spollerClose.closest('[data-spollers]');\n            if (spollersBlock.classList.contains('_spoller-init')) {\n              const spollerSpeed = spollersBlock.dataset.spollersSpeed\n                ? parseInt(spollersBlock.dataset.spollersSpeed)\n                : 500;\n              spollerClose.classList.remove('_spoller-active');\n              _slideUp(spollerClose.nextElementSibling, spollerSpeed);\n            }\n          });\n        }\n      });\n    }\n  }\n}\n\nfunction _slideUp(target, duration = 500, showmore = 0) {\n  if (!target.classList.contains('_slide')) {\n    target.classList.add('_slide');\n    target.style.transitionProperty = 'height, margin, padding';\n    target.style.transitionDuration = duration + 'ms';\n    target.style.height = `${target.offsetHeight}px`;\n    target.offsetHeight;\n    target.style.overflow = 'hidden';\n    target.style.height = showmore ? `${showmore}px` : `0px`;\n    target.style.paddingTop = 0;\n    target.style.paddingBottom = 0;\n    target.style.marginTop = 0;\n    target.style.marginBottom = 0;\n    window.setTimeout(() => {\n      target.hidden = !showmore ? true : false;\n      !showmore ? target.style.removeProperty('height') : null;\n      target.style.removeProperty('padding-top');\n      target.style.removeProperty('padding-bottom');\n      target.style.removeProperty('margin-top');\n      target.style.removeProperty('margin-bottom');\n      !showmore ? target.style.removeProperty('overflow') : null;\n      target.style.removeProperty('transition-duration');\n      target.style.removeProperty('transition-property');\n      target.classList.remove('_slide');\n      // Создаем событие\n      document.dispatchEvent(\n        new CustomEvent('slideUpDone', {\n          detail: {\n            target: target,\n          },\n        })\n      );\n    }, duration);\n  }\n}\nfunction _slideDown(target, duration = 500, showmore = 0) {\n  if (!target.classList.contains('_slide')) {\n    target.classList.add('_slide');\n    target.hidden = target.hidden ? false : null;\n    showmore ? target.style.removeProperty('height') : null;\n    let height = target.offsetHeight;\n    target.style.overflow = 'hidden';\n    target.style.height = showmore ? `${showmore}px` : `0px`;\n    target.style.paddingTop = 0;\n    target.style.paddingBottom = 0;\n    target.style.marginTop = 0;\n    target.style.marginBottom = 0;\n    target.offsetHeight;\n    target.style.transitionProperty = 'height, margin, padding';\n    target.style.transitionDuration = duration + 'ms';\n    target.style.height = height + 'px';\n    target.style.removeProperty('padding-top');\n    target.style.removeProperty('padding-bottom');\n    target.style.removeProperty('margin-top');\n    target.style.removeProperty('margin-bottom');\n    window.setTimeout(() => {\n      target.style.removeProperty('height');\n      target.style.removeProperty('overflow');\n      target.style.removeProperty('transition-duration');\n      target.style.removeProperty('transition-property');\n      target.classList.remove('_slide');\n      // Создаем событие\n      document.dispatchEvent(\n        new CustomEvent('slideDownDone', {\n          detail: {\n            target: target,\n          },\n        })\n      );\n    }, duration);\n  }\n}\nfunction _slideToggle(target, duration = 500) {\n  if (target.hidden) {\n    return _slideDown(target, duration);\n  } else {\n    return _slideUp(target, duration);\n  }\n}\nfunction dataMediaQueries(array, dataSetValue) {\n  // Получение объектов с медиа запросами\n  const media = Array.from(array).filter(function (item, index, self) {\n    if (item.dataset[dataSetValue]) {\n      return item.dataset[dataSetValue].split(',')[0];\n    }\n  });\n  // Инициализация объектов с медиа запросами\n  if (media.length) {\n    const breakpointsArray = [];\n    media.forEach(item => {\n      const params = item.dataset[dataSetValue];\n      const breakpoint = {};\n      const paramsArray = params.split(',');\n      breakpoint.value = paramsArray[0];\n      breakpoint.type = paramsArray[1] ? paramsArray[1].trim() : 'max';\n      breakpoint.item = item;\n      breakpointsArray.push(breakpoint);\n    });\n    // Получаем уникальные брейкпоинты\n    let mdQueries = breakpointsArray.map(function (item) {\n      return (\n        '(' +\n        item.type +\n        '-width: ' +\n        item.value +\n        'px),' +\n        item.value +\n        ',' +\n        item.type\n      );\n    });\n    mdQueries = uniqArray(mdQueries);\n    const mdQueriesArray = [];\n\n    if (mdQueries.length) {\n      // Работаем с каждым брейкпоинтом\n      mdQueries.forEach(breakpoint => {\n        const paramsArray = breakpoint.split(',');\n        const mediaBreakpoint = paramsArray[1];\n        const mediaType = paramsArray[2];\n        const matchMedia = window.matchMedia(paramsArray[0]);\n        // Объекты с нужными условиями\n        const itemsArray = breakpointsArray.filter(function (item) {\n          if (item.value === mediaBreakpoint && item.type === mediaType) {\n            return true;\n          }\n        });\n        mdQueriesArray.push({\n          itemsArray,\n          matchMedia,\n        });\n      });\n      return mdQueriesArray;\n    }\n  }\n}\n"],"names":["$ce6ec488e3aace99$var$_slideUp","target","duration","arguments","length","showmore","classList","contains","add","style","transitionProperty","transitionDuration","height","concat","offsetHeight","overflow","paddingTop","paddingBottom","marginTop","marginBottom","window","setTimeout","hidden","removeProperty","remove","document","dispatchEvent","CustomEvent","detail","$ce6ec488e3aace99$var$_slideDown","spollersArray1","querySelectorAll","spollersRegular","Array","from","filter","item","index","self","dataset","spollers","split","initSpollers","mdQueriesArray","array","dataSetValue","media","breakpointsArray","forEach","breakpoint","paramsArray","value","type","trim","push","mdQueries","map","uniqArray","mediaBreakpoint","mediaType","matchMedia","itemsArray","$ce6ec488e3aace99$var$dataMediaQueries","spollersArray","spollersBlock","matches","initSpollerBody","addEventListener","setSpollerAction","removeEventListener","hideSpollerBody","spollerTitles","closest","spollerTitle","removeAttribute","nextElementSibling","setAttribute","e","el","oneSpoller","hasAttribute","spollerSpeed","spollersSpeed","parseInt","spollerActiveTitle","querySelector","hideSpollersBody","toggle","$ce6ec488e3aace99$var$_slideToggle","preventDefault","mdQueriesItem","spollersClose","spollerClose","$ce6ec488e3aace99$var$spollers"],"version":3,"file":"catalog.dacd4c42.js.map"}