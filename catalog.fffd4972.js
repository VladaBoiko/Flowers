function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequired7c6=i);var a,o=i("aGajG"),s=i("gBFI5"),l=i("eszG8"),c=i("8MnzK"),u=i("91JdT"),f=i("fov3b"),d=(u=i("91JdT"),/^\s+|\s+$/g),g=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,p=/^0o[0-7]+$/i,h=parseInt,v="object"==typeof t&&t&&t.Object===Object&&t,b="object"==typeof self&&self&&self.Object===Object&&self,y=v||b||Function("return this")(),x=Object.prototype.toString,w=Math.max,P=Math.min,j=function(){return y.Date.now()};function E(e,t,n){var r,i,a,o,s,l,c=0,u=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=r,a=i;return r=i=void 0,c=t,o=e.apply(a,n)}function m(e){return c=e,s=setTimeout(h,t),u?g(e):o}function p(e){var n=e-l;return void 0===l||n>=t||n<0||f&&e-c>=a}function h(){var e=j();if(p(e))return v(e);s=setTimeout(h,function(e){var n=t-(e-l);return f?P(n,a-(e-c)):n}(e))}function v(e){return s=void 0,d&&r?g(e):(r=i=void 0,o)}function b(){var e=j(),n=p(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return m(l);if(f)return s=setTimeout(h,t),g(l)}return void 0===s&&(s=setTimeout(h,t)),o}return t=D(t)||0,T(n)&&(u=!!n.leading,a=(f="maxWait"in n)?w(D(n.maxWait)||0,t):a,d="trailing"in n?!!n.trailing:d),b.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=i=s=void 0},b.flush=function(){return void 0===s?o:v(j())},b}function T(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function D(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==x.call(e)}(e))return NaN;if(T(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=T(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(d,"");var n=m.test(e);return n||p.test(e)?h(e.slice(2),n?2:8):g.test(e)?NaN:+e}a=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return T(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),E(e,t,{leading:r,maxWait:t,trailing:i})},f.reviewsSwiper.enabled=!0;const L={resetFormBtn:document.querySelector(".filter-catalog__clear-all-btn"),form:document.querySelector(".filter-catalog"),catalogList:document.querySelector(".catalog-list")},N={selector:L.catalogList,filterParams:{},page:1,totalPages:1,offset:9,sorting:"rating,1",incrementPage(){this.page+=1},resetPage(){this.page=1,this.filterParams={}},async renderData(){try{const e=await o.APIGetData.getDataByFilter(this.filterParams,this.page,this.offset,this.sorting);this.totalPages=e.totalPage;const t=(0,s.createMarkup)(e.result);(0,l.render)(L.catalogList,t),this.page>=this.totalPages?O.hide():(O.enable(),O.show())}catch(e){console.log("render data on catalog-page",e)}}};L.form.reset(),N.renderData(),L.resetFormBtn.addEventListener("click",(()=>{N.resetPage(),(0,l.clearData)(L.catalogList),L.form.reset(),N.renderData()})),L.form.addEventListener("change",e(a)((()=>{(0,l.clearData)(L.catalogList),N.resetPage(),N.filterParams=function(){const e={category:[],sort:[],color:[],amount:[],size:[],form:[],price:[]};return[...L.form].map((t=>{if("INPUT"===t.nodeName&&t.checked){const n=t.parentElement.parentElement.previousElementSibling.textContent,r=t.nextElementSibling.textContent,i=(0,u.getKey)(n,c.filterWords),a="amount"===i||"size"===i?Number.parseInt(r):r;if("price"!==i)-1===e[i].indexOf(r)&&e[i].push(a);else{const n=t.value.split(",");e[i]=n}}})),Object.entries(e).reduce(((e,t)=>{let n=null;return t[1].length>0&&(n="price"!==t[0]?{[t[0]]:t[1].join(",")}:{priseMin:t[1][0],priseMax:t[1][1]}),n?{...e,...n}:{...e}}),{})}(),N.renderData()})),300);const O={element:document.querySelector(".catalog__btn"),className:"hidden",disable(){this.element.disabled=!0},enable(){this.element.disabled=!1},hide(){this.element.classList.add(this.className)},show(){this.element.classList.remove(this.className)}};O.element.addEventListener("click",(()=>{O.disable(),N.incrementPage(),N.renderData(),(0,u.smoothScroll)(L.catalogList)}));
//# sourceMappingURL=catalog.fffd4972.js.map
