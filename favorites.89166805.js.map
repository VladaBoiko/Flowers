{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","src/js/catalog/fetch-cards.js","src/js/catalog/markup.js","src/js/catalog/localStorage.js","src/js/catalog/getKey.js","node_modules/@parcel/runtime-js/lib/runtime-bca43aacced8346a.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","src/js/catalog/favoriteHandle.js","src/js/catalog/filter.js","node_modules/@parcel/runtime-js/lib/runtime-61f5856524cd9deb.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","const axios = require('axios').default;\n\nconst instance = axios.create({\n  baseURL: 'https://62f9492f3eab3503d1e324fd.mockapi.io/',\n});\n\nexport const APIGetData = {\n  async getData(params = '') {\n    const response = await instance.get(`/products/?${params}`);\n    const data = await response.data;\n    return data;\n  },\n\n  async getDataByID(id) {\n    const response = await instance.get(`/products/`, { params: { id: id } });\n\n    const data = await response.data;\n    return data;\n  },\n};\n","import { loadFromLocalStorage } from './localStorage';\nimport getKey from './getKey';\nimport icons from '../../img/catalog/icon-fav.svg';\n\nconst statuses = {\n  hit: 'Xіт продажу',\n  absent: 'Немає в наявності',\n  new: 'Новинка',\n};\nconst favoriteList = loadFromLocalStorage('Favorites');\n// console.log(favoriteList);\n\nexport const createMarkup = data => {\n  return data\n    .map(({ id, name, image, price, status }) => {\n      const keyStatus = getKey(status, statuses);\n      return `<li class=\"offer-list__item product\" id=\"${id}\">\n        <a href=\"./good-card.html\" class=\"product__link\">\n          <img\n            loading=\"lazy\"\n            src=\"${image}\"\n            alt=\"${name}\"\n            class=\"product__image\"\n            width=\"290\"\n            height=\"250\"\n          />\n          <div class=\"product__overlay\">\n            <p class=\"product__status ${keyStatus}\">${status}</p>\n            <button type=\"button\" class=\"product__favorite ${isFav(id)}\">\n              <svg width=\"34\" height=\"34\">\n                <use href=\"${icons}#icon-fav\"></use>\n              </svg>\n            </button>\n          </div>\n          <div class=\"product__content\">\n            <p class=\"product__text\">\n              ${name}\n            </p>\n            <p class=\"product__price\">${price} у.о.</p>\n            <button type=\"button\" class=\"product__button button dark\">\n              Замовити\n            </button>\n            <button type=\"button\" class=\"product__button-one-click\">\n              Придбати в 1 клік\n            </button>\n          </div>\n        </a>\n      </li>\n    `;\n    })\n    .join('');\n};\n\nexport const clearData = list => {\n  list.innerHTML = '';\n};\n\nfunction isFav(id) {\n  return favoriteList.indexOf(id) === -1 ? '' : 'checked';\n}\n","export function saveToLocalStorage(key, value) {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.log('save error-', error.message);\n  }\n}\n\nexport function loadFromLocalStorage(key) {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? 'undefined' : JSON.parse(serializedState);\n  } catch (error) {\n    console.log('load error-', error.message);\n  }\n}\n","export default function getKey(value, object) {\n  let key = '';\n  Object.entries(object).map(el => (el[1] === value ? (key = el[0]) : ''));\n  return key;\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('huxXE') + require('./helpers/bundle-manifest').resolve(\"a8xpP\");","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","import { saveToLocalStorage, loadFromLocalStorage } from './localStorage';\n\nconst key = 'Favorites';\n\nexport function handleFavorite() {\n  const favoriteBtns = document.querySelectorAll('.product__favorite');\n\n  favoriteBtns.forEach(favoriteBtn =>\n    favoriteBtn.addEventListener('click', event => {\n      event.preventDefault();\n      const productID = favoriteBtn.closest('.product').id;\n\n      if (productID) {\n        const savedListFav = loadFromLocalStorage(key);\n\n        if (savedListFav === 'undefined') {\n          const newListFav = [productID];\n          saveToLocalStorage(key, newListFav);\n        } else if (savedListFav.indexOf(productID) === -1) {\n          savedListFav.push(productID);\n          saveToLocalStorage(key, savedListFav);\n        } else {\n          savedListFav.splice(savedListFav.indexOf(productID), 1);\n          saveToLocalStorage(key, savedListFav);\n        }\n      }\n\n      favoriteBtn.classList.toggle('checked');\n    })\n  );\n}\n","export const sections = {\n  offerSpecial: 'Спеціальна пропозиція',\n  dayOffer: 'Пропозиція дня',\n  recommendOffer: 'Рекомендуємо троянди',\n  offerPlus: 'З квітами купують',\n  earlierWatched: 'Раніше переглянуто',\n};\n\nexport const filterWords = {\n  category: 'Категорія',\n  sort: 'Вид',\n  color: 'Колір',\n  amount: 'Кількість',\n  size: 'Розмір',\n  form: 'Форма букету',\n  price: 'Ціна',\n};\n\nexport const filterData = (data, filterParams) => {\n  const filterKeys = Object.keys(filterWords);\n\n  if (Object.keys(filterParams).length) {\n    const filterByCategory = filterByOption(data, filterParams[filterKeys[0]], filterKeys[0]);\n\n    const filterByType = filterByOption(filterByCategory, filterParams[filterKeys[1]], filterKeys[1]);\n\n    const filterByColor = filterByOption(filterByType, filterParams[filterKeys[2]], filterKeys[2]);\n\n    const filterByAmount = filterByOption(filterByColor, filterParams[filterKeys[3]], filterKeys[3]);\n\n    const filterBySize = filterByOption(filterByAmount, filterParams[filterKeys[4]], filterKeys[4]);\n\n    const filterByForm = filterByOption(filterBySize, filterParams[filterKeys[5]], filterKeys[5]);\n\n    const filteredData = filterByPrice(filterByForm, filterParams[filterKeys[6]]);\n\n    return filteredData;\n  }\n  return data;\n};\n\nexport const filterByOption = (data, filterParam, filterKey) => {\n  return data.filter(card => {\n    if (filterParam.length === 0) {\n      return true;\n    }\n    return filterParam.includes(card[filterKey]);\n  });\n};\n\nexport const filterByPrice = (data, filterParam) =>\n  data.filter(card => {\n    if (filterParam.length === 0) {\n      return true;\n    }\n\n    let cardPriceRange = '';\n    if (card.price < 30) {\n      cardPriceRange = 'до 30';\n    } else if (card.price >= 30 && card.price < 45) {\n      cardPriceRange = '30 - 45';\n    } else if (card.price >= 45 && card.price < 65) {\n      cardPriceRange = '45 - 65';\n    } else if (card.price >= 65 && card.price < 80) {\n      cardPriceRange = '65 - 80';\n    } else if (card.price >= 80) {\n      cardPriceRange = 'від 80';\n    }\n\n    return filterParam.includes(cardPriceRange) > 0;\n  });\n\nexport const filterById = (data, idList) =>\n  [...data].filter(card => idList.indexOf(card.id) > -1).sort((a, b) => b.rating - a.rating);\n\nexport const filterBySection = (data, section, otherData) => {\n  let filteredData = [];\n\n  if (section !== sections.earlierWatched) {\n    filteredData = [...data].filter(card => card.section === section).sort((a, b) => b.rating - a.rating);\n  } else if (otherData) {\n    filteredData = filterById(data, otherData);\n  }\n\n  if (filteredData && section === sections.earlierWatched && filteredData.length > 4) {\n    return filteredData.slice(0, 4);\n  }\n\n  if (filteredData && filteredData.length > 8) {\n    return filteredData.slice(0, 8);\n  }\n  return filteredData;\n};\n","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"huxXE\\\":\\\"favorites.89166805.js\\\",\\\"a8xpP\\\":\\\"icon-fav.d2a3f45b.svg\\\"}\"));"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$299a276fa9022e51$var$instance","parcelRequire","default","create","baseURL","$299a276fa9022e51$export$bf05bfad153d9b1b","async","params","response","get","data","$3LV0x","$e35de819c2b6b48b$var$statuses","hit","absent","new","$e35de819c2b6b48b$var$favoriteList","loadFromLocalStorage","$e35de819c2b6b48b$export$24783e9f3a24abe4","map","name","image","price","status","$6bmen","indexOf","$e35de819c2b6b48b$var$isFav","$parcel$interopDefault","$lOgQF","join","$e35de819c2b6b48b$export$ec21c014cef0b1e8","list","innerHTML","$2bf1fb685ff9554b$export$1b8cd2d0ef9a8e5d","key","value","serializedState","JSON","stringify","localStorage","setItem","error","console","log","message","$2bf1fb685ff9554b$export$e68c847c0bceb7d5","getItem","parse","$480503bc6f457809$export$2e2bcd8739ae039","object","entries","el","module","exports","getBundleURL","resolve","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","$9de0ba345cb22149$var$key","$9de0ba345cb22149$export$52be419ad328e20a","document","querySelectorAll","forEach","favoriteBtn","addEventListener","event","preventDefault","productID","closest","savedListFav","newListFav","saveToLocalStorage","push","splice","classList","toggle","$d905f4ee857c7a68$export$5a1dbaa3e4449344","offerSpecial","dayOffer","recommendOffer","offerPlus","earlierWatched","$d905f4ee857c7a68$export$594f50dfae6c7004","category","sort","color","amount","size","form","$d905f4ee857c7a68$export$d6ad891437e8c72c","filterParams","filterKeys","filterByCategory","$d905f4ee857c7a68$export$ea2e2dbc5d814982","filterByType","filterByColor","filterByAmount","filterBySize","filterByForm","$d905f4ee857c7a68$export$37d568e1c36a0ac2","filterParam","filterKey","filter","card","includes","cardPriceRange","$d905f4ee857c7a68$export$ff9a17ccab304c79","idList","a","b","rating","$d905f4ee857c7a68$export$aac545ade3781a23","section","otherData","filteredData","slice","register"],"version":3,"file":"favorites.89166805.js.map"}