{"mappings":"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","sources":["src/js/spollers.js"],"sourcesContent":["spollers();\n\nfunction spollers() {\n  const spollersArray = document.querySelectorAll('[data-spollers]');\n  if (spollersArray.length > 0) {\n    // Получение обычных слойлеров\n    const spollersRegular = Array.from(spollersArray).filter(function (\n      item,\n      index,\n      self\n    ) {\n      return !item.dataset.spollers.split(',')[0];\n    });\n    // Инициализация обычных слойлеров\n    if (spollersRegular.length) {\n      initSpollers(spollersRegular);\n    }\n    // Получение слойлеров с медиа запросами\n    let mdQueriesArray = dataMediaQueries(spollersArray, 'spollers');\n    if (mdQueriesArray && mdQueriesArray.length) {\n      mdQueriesArray.forEach(mdQueriesItem => {\n        // Событие\n        mdQueriesItem.matchMedia.addEventListener('change', function () {\n          initSpollers(mdQueriesItem.itemsArray, mdQueriesItem.matchMedia);\n        });\n        initSpollers(mdQueriesItem.itemsArray, mdQueriesItem.matchMedia);\n      });\n    }\n    // Инициализация\n    function initSpollers(spollersArray, matchMedia = false) {\n      spollersArray.forEach(spollersBlock => {\n        spollersBlock = matchMedia ? spollersBlock.item : spollersBlock;\n        if (matchMedia.matches || !matchMedia) {\n          spollersBlock.classList.add('_spoller-init');\n          initSpollerBody(spollersBlock);\n          spollersBlock.addEventListener('click', setSpollerAction);\n        } else {\n          spollersBlock.classList.remove('_spoller-init');\n          initSpollerBody(spollersBlock, false);\n          spollersBlock.removeEventListener('click', setSpollerAction);\n        }\n      });\n    }\n    // Работа с контентом\n    function initSpollerBody(spollersBlock, hideSpollerBody = true) {\n      let spollerTitles = spollersBlock.querySelectorAll('[data-spoller]');\n      if (spollerTitles.length) {\n        spollerTitles = Array.from(spollerTitles).filter(\n          item => item.closest('[data-spollers]') === spollersBlock\n        );\n        spollerTitles.forEach(spollerTitle => {\n          if (hideSpollerBody) {\n            spollerTitle.removeAttribute('tabindex');\n            if (!spollerTitle.classList.contains('_spoller-active')) {\n              spollerTitle.nextElementSibling.hidden = true;\n            }\n          } else {\n            spollerTitle.setAttribute('tabindex', '-1');\n            spollerTitle.nextElementSibling.hidden = false;\n          }\n        });\n      }\n    }\n    function setSpollerAction(e) {\n      const el = e.target;\n      if (el.closest('[data-spoller]')) {\n        const spollerTitle = el.closest('[data-spoller]');\n        const spollersBlock = spollerTitle.closest('[data-spollers]');\n        const oneSpoller = spollersBlock.hasAttribute('data-one-spoller');\n        const spollerSpeed = spollersBlock.dataset.spollersSpeed\n          ? parseInt(spollersBlock.dataset.spollersSpeed)\n          : 500;\n        if (!spollersBlock.querySelectorAll('._slide').length) {\n          if (\n            oneSpoller &&\n            !spollerTitle.classList.contains('_spoller-active')\n          ) {\n            hideSpollersBody(spollersBlock);\n          }\n          spollerTitle.classList.toggle('_spoller-active');\n          _slideToggle(spollerTitle.nextElementSibling, spollerSpeed);\n        }\n        e.preventDefault();\n      }\n    }\n    function hideSpollersBody(spollersBlock) {\n      const spollerActiveTitle = spollersBlock.querySelector(\n        '[data-spoller]._spoller-active'\n      );\n      const spollerSpeed = spollersBlock.dataset.spollersSpeed\n        ? parseInt(spollersBlock.dataset.spollersSpeed)\n        : 500;\n      if (\n        spollerActiveTitle &&\n        !spollersBlock.querySelectorAll('._slide').length\n      ) {\n        spollerActiveTitle.classList.remove('_spoller-active');\n        _slideUp(spollerActiveTitle.nextElementSibling, spollerSpeed);\n      }\n    }\n    // Закрытие при клике вне спойлера\n    const spollersClose = document.querySelectorAll('[data-spoller-close]');\n    if (spollersClose.length) {\n      document.addEventListener('click', function (e) {\n        const el = e.target;\n        if (!el.closest('[data-spollers]')) {\n          spollersClose.forEach(spollerClose => {\n            const spollersBlock = spollerClose.closest('[data-spollers]');\n            if (spollersBlock.classList.contains('_spoller-init')) {\n              const spollerSpeed = spollersBlock.dataset.spollersSpeed\n                ? parseInt(spollersBlock.dataset.spollersSpeed)\n                : 500;\n              spollerClose.classList.remove('_spoller-active');\n              _slideUp(spollerClose.nextElementSibling, spollerSpeed);\n            }\n          });\n        }\n      });\n    }\n  }\n}\n\nfunction _slideUp(target, duration = 500, showmore = 0) {\n  if (!target.classList.contains('_slide')) {\n    target.classList.add('_slide');\n    target.style.transitionProperty = 'height, margin, padding';\n    target.style.transitionDuration = duration + 'ms';\n    target.style.height = `${target.offsetHeight}px`;\n    target.offsetHeight;\n    target.style.overflow = 'hidden';\n    target.style.height = showmore ? `${showmore}px` : `0px`;\n    target.style.paddingTop = 0;\n    target.style.paddingBottom = 0;\n    target.style.marginTop = 0;\n    target.style.marginBottom = 0;\n    window.setTimeout(() => {\n      target.hidden = !showmore ? true : false;\n      !showmore ? target.style.removeProperty('height') : null;\n      target.style.removeProperty('padding-top');\n      target.style.removeProperty('padding-bottom');\n      target.style.removeProperty('margin-top');\n      target.style.removeProperty('margin-bottom');\n      !showmore ? target.style.removeProperty('overflow') : null;\n      target.style.removeProperty('transition-duration');\n      target.style.removeProperty('transition-property');\n      target.classList.remove('_slide');\n      // Создаем событие\n      document.dispatchEvent(\n        new CustomEvent('slideUpDone', {\n          detail: {\n            target: target,\n          },\n        })\n      );\n    }, duration);\n  }\n}\nfunction _slideDown(target, duration = 500, showmore = 0) {\n  if (!target.classList.contains('_slide')) {\n    target.classList.add('_slide');\n    target.hidden = target.hidden ? false : null;\n    showmore ? target.style.removeProperty('height') : null;\n    let height = target.offsetHeight;\n    target.style.overflow = 'hidden';\n    target.style.height = showmore ? `${showmore}px` : `0px`;\n    target.style.paddingTop = 0;\n    target.style.paddingBottom = 0;\n    target.style.marginTop = 0;\n    target.style.marginBottom = 0;\n    target.offsetHeight;\n    target.style.transitionProperty = 'height, margin, padding';\n    target.style.transitionDuration = duration + 'ms';\n    target.style.height = height + 'px';\n    target.style.removeProperty('padding-top');\n    target.style.removeProperty('padding-bottom');\n    target.style.removeProperty('margin-top');\n    target.style.removeProperty('margin-bottom');\n    window.setTimeout(() => {\n      target.style.removeProperty('height');\n      target.style.removeProperty('overflow');\n      target.style.removeProperty('transition-duration');\n      target.style.removeProperty('transition-property');\n      target.classList.remove('_slide');\n      // Создаем событие\n      document.dispatchEvent(\n        new CustomEvent('slideDownDone', {\n          detail: {\n            target: target,\n          },\n        })\n      );\n    }, duration);\n  }\n}\nfunction _slideToggle(target, duration = 500) {\n  if (target.hidden) {\n    return _slideDown(target, duration);\n  } else {\n    return _slideUp(target, duration);\n  }\n}\nfunction dataMediaQueries(array, dataSetValue) {\n  // Получение объектов с медиа запросами\n  const media = Array.from(array).filter(function (item, index, self) {\n    if (item.dataset[dataSetValue]) {\n      return item.dataset[dataSetValue].split(',')[0];\n    }\n  });\n  // Инициализация объектов с медиа запросами\n  if (media.length) {\n    const breakpointsArray = [];\n    media.forEach(item => {\n      const params = item.dataset[dataSetValue];\n      const breakpoint = {};\n      const paramsArray = params.split(',');\n      breakpoint.value = paramsArray[0];\n      breakpoint.type = paramsArray[1] ? paramsArray[1].trim() : 'max';\n      breakpoint.item = item;\n      breakpointsArray.push(breakpoint);\n    });\n    // Получаем уникальные брейкпоинты\n    let mdQueries = breakpointsArray.map(function (item) {\n      return (\n        '(' +\n        item.type +\n        '-width: ' +\n        item.value +\n        'px),' +\n        item.value +\n        ',' +\n        item.type\n      );\n    });\n    mdQueries = uniqArray(mdQueries);\n    const mdQueriesArray = [];\n\n    if (mdQueries.length) {\n      // Работаем с каждым брейкпоинтом\n      mdQueries.forEach(breakpoint => {\n        const paramsArray = breakpoint.split(',');\n        const mediaBreakpoint = paramsArray[1];\n        const mediaType = paramsArray[2];\n        const matchMedia = window.matchMedia(paramsArray[0]);\n        // Объекты с нужными условиями\n        const itemsArray = breakpointsArray.filter(function (item) {\n          if (item.value === mediaBreakpoint && item.type === mediaType) {\n            return true;\n          }\n        });\n        mdQueriesArray.push({\n          itemsArray,\n          matchMedia,\n        });\n      });\n      return mdQueriesArray;\n    }\n  }\n}\n"],"names":["$17d8312a95a60c3b$var$_slideUp","target","duration","showmore","classList","contains","add","style","transitionProperty","transitionDuration","height","offsetHeight","overflow","paddingTop","paddingBottom","marginTop","marginBottom","window","setTimeout","hidden","removeProperty","remove","document","dispatchEvent","CustomEvent","detail","spollersArray1","querySelectorAll","length","spollersRegular","Array","from","filter","item","index","self","dataset","spollers","split","initSpollers","mdQueriesArray","array","dataSetValue","media","breakpointsArray","forEach","breakpoint","paramsArray","value","type","trim","push","mdQueries","map","uniqArray","mediaBreakpoint","mediaType","matchMedia","itemsArray","$17d8312a95a60c3b$var$dataMediaQueries","spollersArray","spollersBlock","matches","initSpollerBody","addEventListener","setSpollerAction","removeEventListener","hideSpollerBody","spollerTitles","closest","spollerTitle","removeAttribute","nextElementSibling","setAttribute","e","el","oneSpoller","hasAttribute","spollerSpeed","spollersSpeed","parseInt","spollerActiveTitle","querySelector","hideSpollersBody","toggle","$17d8312a95a60c3b$var$_slideDown","$17d8312a95a60c3b$var$_slideToggle","preventDefault","mdQueriesItem","spollersClose","spollerClose","$17d8312a95a60c3b$var$spollers"],"version":3,"file":"catalog.78cab935.js.map"}