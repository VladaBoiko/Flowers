!function(){function t(t,e,r,n){Object.defineProperty(t,e,{get:r,set:n,enumerable:!0,configurable:!0})}function e(t){return t&&t.__esModule?t.default:t}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},a=r.parcelRequired7c6;null==a&&((a=function(t){if(t in n)return n[t].exports;if(t in o){var e=o[t];delete o[t];var r={id:t,exports:{}};return n[t]=r,e.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(t,e){o[t]=e},r.parcelRequired7c6=a),a.register("iE7OH",(function(e,r){var n,o;t(e.exports,"register",(function(){return n}),(function(t){return n=t})),t(e.exports,"resolve",(function(){return o}),(function(t){return o=t}));var a={};n=function(t){for(var e=Object.keys(t),r=0;r<e.length;r++)a[e[r]]=t[e[r]]},o=function(t){var e=a[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),a.register("1xo6m",(function(e,r){t(e.exports,"APIGetData",(function(){return o}));const n=a("dIxxU").default.create({baseURL:"https://server-flower.herokuapp.com/"}),o={async getData(){const t=await n.get("/flowers/all");return(await t.data).result},async getDataByID(t,e=1,r=20,o="rating,1"){const a=await n.get("/flowers/",{params:{page:e,limit:r,id:t,sorting:o}});return(await a.data).result},async getDataBySection(t,e=1,r=8){const o=await n.get("/flowers/",{params:{section:t,page:e,limit:r}});return(await o.data).result},async getDataByFilter(t,e=1,r=9,o="rating,1"){const a=await n.get("/flowers/",{params:{...t,page:e,limit:r,sorting:o}});return await a.data}}})),a.register("jwgDc",(function(r,n){t(r.exports,"createMarkup",(function(){return u}));var o=a("3LV0x"),s=a("aD4Ga"),i=a("8ownn"),c=a("03Fjm");const l=(0,o.loadFromLocalStorage)("Favorites"),u=t=>t.map((({_id:t,name:r,image:n,price:o,status:a})=>{return`<li class="offer-list__item product" id="${t}">\n        <a href="./good-card.html" class="product__link">\n          <img\n            loading="lazy"\n            src="${n}"\n            alt="${r}"\n            class="product__image"\n            width="290"\n            height="250"\n          />\n          <div class="product__overlay">\n            <p class="product__status ${(0,i.getKey)(a,s.statuses)}">${a}</p>\n            <button type="button" class="product__favorite ${u=t,-1===l.indexOf(u)?"":"checked"}">\n              <svg width="34" height="34">\n                <use href="${e(c)}#icon-fav"></use>\n              </svg>\n            </button>\n          </div>\n          <div class="product__content">\n            <p class="product__text">\n              ${r}\n            </p>\n            <p class="product__price">${o} у.о.</p>\n            <button type="button" class="product__button button dark">\n              Замовити\n            </button>\n            <button type="button" class="product__button-one-click">\n              Придбати в 1 клік\n            </button>\n          </div>\n        </a>\n      </li>\n    `;var u})).join("")})),a.register("3LV0x",(function(e,r){function n(t,e){try{const r=JSON.stringify(e);localStorage.setItem(t,r)}catch(t){console.log("save error-",t.message)}}function o(t){try{const e=localStorage.getItem(t);return null===e?"":JSON.parse(e)}catch(t){console.log("load error-",t.message)}}t(e.exports,"saveToLocalStorage",(function(){return n})),t(e.exports,"loadFromLocalStorage",(function(){return o}))})),a.register("aD4Ga",(function(e,r){t(e.exports,"statuses",(function(){return n})),t(e.exports,"sections",(function(){return o})),t(e.exports,"filterWords",(function(){return a}));const n={hit:"Xіт продажу",absent:"Немає в наявності",new:"Новинка"},o={offerSpecial:"Спеціальна пропозиція",dayOffer:"Пропозиція дня",recommendOffer:"Рекомендуємо троянди",offerPlus:"З квітами купують",earlierWatched:"Раніше переглянуто"},a={category:"Категорія",sort:"Вид",color:"Колір",amount:"Кількість",size:"Розмір",form:"Форма букету",price:"Ціна"}})),a.register("8ownn",(function(e,r){function n(t,e){let r="";return Object.entries(e).map((e=>e[1]===t?r=e[0]:"")),r}function o(t){const{height:e}=t.firstElementChild.getBoundingClientRect();window.scrollBy({top:1*e+10,behavior:"smooth"})}function a(t,e){t.classList.contains(e)||t.classList.add(e)}function s(t,e){t.classList.contains(e)&&t.classList.remove(e)}t(e.exports,"getKey",(function(){return n})),t(e.exports,"smoothScroll",(function(){return o})),t(e.exports,"addClass",(function(){return a})),t(e.exports,"removeClass",(function(){return s}))})),a.register("03Fjm",(function(t,e){t.exports=a("aNJCr").getBundleURL("5hINW")+a("iE7OH").resolve("a8xpP")})),a.register("aNJCr",(function(e,r){var n;t(e.exports,"getBundleURL",(function(){return n}),(function(t){return n=t}));var o={};function a(t){return(""+t).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}n=function(t){var e=o[t];return e||(e=function(){try{throw new Error}catch(e){var t=(""+e.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(t)return a(t[2])}return"/"}(),o[t]=e),e}})),a.register("dkdns",(function(e,r){t(e.exports,"render",(function(){return s})),t(e.exports,"clearData",(function(){return i}));var n=a("8Z8gJ"),o=a("7qU2l");const s=(t,e)=>{t.insertAdjacentHTML("beforeend",e),(0,n.handleFavorite)(),(0,o.handleWatchedHistory)()},i=t=>{t.innerHTML=""}})),a.register("8Z8gJ",(function(e,r){t(e.exports,"handleFavorite",(function(){return i}));var n=a("3LV0x"),o=a("9T6VY");const s="Favorites";function i(){document.querySelectorAll(".product__favorite").forEach((t=>t.addEventListener("click",(e=>{e.preventDefault();const r=t.closest(".product").id;if(r){const t=(0,n.loadFromLocalStorage)(s);if("undefined"===t){const t=[r];(0,n.saveToLocalStorage)(s,t)}else-1===t.indexOf(r)?(t.push(r),(0,n.saveToLocalStorage)(s,t)):(t.splice(t.indexOf(r),1),(0,n.saveToLocalStorage)(s,t))}t.classList.toggle("checked"),!t.classList.contains("checked")&&document.querySelector(".favorites.offer")&&(0,o.loadDataFavoritePage)()}))))}})),a.register("9T6VY",(function(e,r){t(e.exports,"loadDataFavoritePage",(function(){return l}));var n=a("1xo6m"),o=a("jwgDc"),s=a("dkdns"),i=a("3LV0x"),c=a("8ownn");const l=()=>{if(document.querySelector(".favorites.offer")){const t={titleWrapper:document.querySelector(".offer__title-wrapper"),btn:document.querySelector(".favorites__button"),list:document.querySelector(".offer__list--fav")},e=(0,i.loadFromLocalStorage)("Favorites");e?(t.titleWrapper.children[0].textContent="Обране",t.btn.textContent="Перейти в каталог",t.btn.href="./catalog.html",(0,c.addClass)(t.titleWrapper.children[1],"hidden"),(0,c.addClass)(t.btn,"favorites__button--centered"),async function(){try{data=await n.APIGetData.getDataByID(e.join(","));const r=(0,o.createMarkup)(data);(0,s.clearData)(t.list),(0,s.render)(t.list,r)}catch(t){console.log(t)}}()):((0,s.clearData)(t.list),t.titleWrapper.children[0].textContent="В обраному поки що нічого нема",t.btn.textContent="Перейти на головну",t.btn.href="./index.html",(0,c.removeClass)(t.titleWrapper.children[1],"hidden"),(0,c.removeClass)(t.btn,"favorites__button--centered"))}};l()})),a.register("7qU2l",(function(e,r){t(e.exports,"handleWatchedHistory",(function(){return s}));var n=a("3LV0x");const o="EarlierWatched";function s(){document.querySelectorAll(".product").forEach((t=>t.addEventListener("click",(e=>{const r=t.id;if(("svg"===e.target.nodeName||"use"===e.target.nodeName)&&e.target.closest(".product__favorite")||e.target.classList.contains("product__favorite")||(0,n.saveToLocalStorage)("CurrentCardID",r),r){const t=(0,n.loadFromLocalStorage)(o);if("undefined"===t){const t=[r];(0,n.saveToLocalStorage)(o,t)}else-1===t.indexOf(r)&&(t.push(r),(0,n.saveToLocalStorage)(o,t))}}))))}})),a("iE7OH").register(JSON.parse('{"5hINW":"favorites.d1fff3f1.js","a8xpP":"icon-fav.d2a3f45b.svg","afxj2":"favorites.0685b3f2.js"}')),a("9T6VY")}();
//# sourceMappingURL=favorites.d1fff3f1.js.map
