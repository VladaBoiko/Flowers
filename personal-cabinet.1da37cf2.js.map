{"mappings":"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","sources":["src/js/personal-cabinet.js","src/js/personal-cabinet/menu.js","src/js/auth/helpers/refs.js","src/js/personal-cabinet/show-pwd.js","src/js/personal-cabinet/registration-modal.js","src/js/personal-cabinet/additional-prevent.js","src/js/auth.js","src/js/auth/helpers/helpers.js","src/js/auth/sign-up.js","src/js/auth/login.js","src/js/auth/logout.js","src/js/auth/validate.js"],"sourcesContent":["import './menu2';\nimport './search';\nimport './personal-cabinet/menu';\nimport './personal-cabinet/registration-modal';\nimport './personal-cabinet/additional-prevent';\nimport './personal-cabinet/show-pwd';\nimport './auth/sign-up';\nimport './auth/login';\nimport './auth/logout';\nimport './auth/validate';","const refs = {\n    openMenuBtn: document.querySelector('[data-open-menu-btn]'),\n    closeMenuBtn: document.querySelector('[data-close-menu-btn]'),\n    menu: document.querySelector('[data-personal-menu]'),\n    \n    profileBtn: document.querySelector('[data-pers-btn]'),\n    ordersBtn: document.querySelector('[data-order-btn]'),\n    notifBtn: document.querySelector('[data-notif-btn]'),\n    favBtn: document.querySelector('[data-fav-btn]'),\n\n    profile: document.querySelector('[data-profile]'),\n    orders: document.querySelector('[data-pers-orders]'),\n    notif: document.querySelector('[data-pers-notif]'),\n    fav: document.querySelector('[data-pers-fav]'),\n}\n\nrefs.openMenuBtn.addEventListener('click', openMobMenu);\nrefs.closeMenuBtn.addEventListener('click', onCloseMenuBtn);\nrefs.menu.addEventListener('click', onMenuList);\n\nlet currentContent = document.querySelector('.pers-current-js');\nlet currentBtn = document.querySelector('.currentBtn');\n \nfunction onMenuList(evt) {\n    onMenuItem(evt, refs.profile, refs.profileBtn);\n    onMenuItem(evt, refs.orders, refs.ordersBtn);\n    onMenuItem(evt, refs.notif, refs.notifBtn);\n    onMenuItem(evt, refs.fav, refs.favBtn);\n}\n\nfunction onMenuItem(evt, newContent, newBtn) {\n    if (isNotNewButton(evt, newBtn)) {\n        return;\n    }\n    changeCurrentContent(newContent);\n    changeCurrentBtn(newBtn);\n}\n\nfunction isNotNewButton(evt, newBtn) {\n    return evt.target !== newBtn;\n}\n\nfunction changeCurrentContent(newContent) {\n    currentContent.classList.remove('pers-current-js');\n    currentContent.classList.add('visually-hidden');\n\n    currentContent = newContent;\n    newContent.classList.remove('visually-hidden');\n    newContent.classList.add('pers-current-js');\n    onCloseMenuBtn()\n}\n\nfunction changeCurrentBtn(newCurrentBtn) {\n    currentBtn.classList.remove('currentBtn');\n    currentBtn = newCurrentBtn;\n    newCurrentBtn.classList.add('currentBtn');\n}\n\nfunction openMobMenu() {\n    currentContent.classList.add('visually-hidden');\n    refs.menu.classList.remove('is-hidden');\n    switchBtnVisibility(refs.openMenuBtn);\n    switchBtnVisibility(refs.closeMenuBtn);\n}\n\nfunction onCloseMenuBtn() {\n    currentContent.classList.remove('visually-hidden');\n    refs.menu.classList.add('is-hidden');\n    switchBtnVisibility(refs.openMenuBtn);\n    switchBtnVisibility(refs.closeMenuBtn);\n}\n\nfunction switchBtnVisibility(btn) {\n    btn.classList.toggle('is-hidden');\n}","export const refs = {\n    headerUserIcon: document.querySelector('[data-header-user-icon]'),\n    loginForm: document.querySelector('[data-login-form]'),\n    regForm: document.querySelector('[data-reg-form]'),\n    loginSection: document.querySelector('[data-login-section]'),\n    personalCab: document.querySelector('[data-pers-cab-main]'),\n    backdrop: document.querySelector('[data-reg-modal]'),\n    body: document.querySelector(\"body\"),\n\n    openModalBtn: document.querySelector('[data-reg-modal-open]'), //Реєстрація\n    closeModalBtn: document.querySelector('[data-reg-modal-close]'), //cross\n    regSubmitBtn: document.querySelector('[data-submit-reg-btn]'), //Зареєструватися\n    loginSubmitBtn: document.querySelector('[data-login-btn]'), //Вхід\n    logoutBtn: document.querySelector('[data-logout-btn]'), //Вийти\n\n    loginFormAlertText: document.querySelector('[data-login-alert-text]'),\n    regFormAlertText: document.querySelector('[data-reg-alert-text]'),\n    alertText: document.querySelector('[data-pers-alert-text]'),\n\n    profileForm: document.querySelector('[data-profile-form]'),\n};","import { refs } from '../auth/helpers/refs';\n\nexport const inputPwdHandlers = {\n    logPwdInput: document.querySelector('[data-log-pwd-input]'),\n    regPwdInput: document.querySelector('[data-reg-pwd-input]'),\n    logConfPwdInput: document.querySelector('[data-reg-conf-pwd-input]'),\n\n    logPwdBtn: document.querySelector('[data-log-pwd-btn]'),\n    regPwdBtn: document.querySelector('[data-reg-pwd-btn]'),\n    regConfPwdBtn: document.querySelector('[data-reg-conf-pwd-btn]'),\n}\n\nconst { loginForm, regForm } = refs;\n\nloginForm.addEventListener('click', clickOnShowPwd);\nregForm.addEventListener('click', clickOnShowPwd);\n\nfunction clickOnShowPwd({target}) {\n    handleClick(target, inputPwdHandlers.logPwdBtn, inputPwdHandlers.logPwdInput);\n    handleClick(target, inputPwdHandlers.regPwdBtn, inputPwdHandlers.regPwdInput);\n    handleClick(target, inputPwdHandlers.regConfPwdBtn, inputPwdHandlers.logConfPwdInput);\n}\n\nfunction handleClick(target, btn, input) {\n    if (target === btn) {\n        if (input.getAttribute('type') === 'password') {\n            showPwd(btn, input);\n            return;\n        }\n        if (input.getAttribute('type') === 'text') {\n            hidePwd(btn, input)\n            return;\n        }\n    }\n}\n\nexport function showPwd(btn, input) {\n    input.setAttribute('type', 'text');\n    btn.classList.add('show-pwd');\n}\n\nexport function hidePwd(btn, input) {\n    input.setAttribute('type', 'password');\n    btn.classList.remove('show-pwd');\n}","import { refs } from '../auth/helpers/refs';\nimport { inputPwdHandlers, hidePwd} from './show-pwd';\n\nrefs.openModalBtn.addEventListener('click', onOpenModal);\nrefs.closeModalBtn.addEventListener('click', onCloseModal);\nrefs.backdrop.addEventListener('click', onBackdropClick);\n\nexport function onOpenModal() {\n  window.addEventListener('keydown', onEscKeyPress);\n  refs.body.classList.add('show-modal');\n  refs.openModalBtn.classList.add('is-active');\n  hidePwd(inputPwdHandlers.logPwdBtn, inputPwdHandlers.logPwdInput);\n}\n\nexport function onCloseModal() {\n  window.removeEventListener('keydown', onEscKeyPress);\n  refs.body.classList.remove('show-modal');\n  refs.openModalBtn.classList.remove('is-active');\n  hidePwd(inputPwdHandlers.regPwdBtn, inputPwdHandlers.regPwdInput);\n  hidePwd(inputPwdHandlers.regConfPwdBtn, inputPwdHandlers.logConfPwdInput);\n}\n\nfunction onBackdropClick(evt) {\n  if (evt.currentTarget === evt.target) {\n    onCloseModal();\n  }\n}\n\nfunction onEscKeyPress(evt) {\n  if (evt.code === 'Escape') {\n    onCloseModal();\n    refs.openModalBtn.blur();\n  }\n}","const refs = {\n    profileForm: document.querySelector('[data-profile-form]'),\n    notifForm: document.querySelector('[data-pers-notif-form]'),\n    profileFormBtn: document.querySelector('[data-profile-form-btn]'),\n    notifFormBtn: document.querySelector('[data-notif-form-btn]'),\n    forgotPwdLink: document.querySelector('[data-forgot-pwd-link]'),\n}\n\nrefs.profileForm.addEventListener('submit', onSubmitProfileForm);\nrefs.notifForm.addEventListener('submit', onSubmitNotifForm);\nrefs.forgotPwdLink.addEventListener('click', onLinkClick);\n\nfunction onSubmitProfileForm(evt) {\n    onSubmit(evt);\n    refs.profileFormBtn.blur();\n}\n\nfunction onSubmitNotifForm(evt) {\n    onSubmit(evt);\n    refs.notifFormBtn.blur();\n}\n\nfunction onLinkClick(evt) {\n    onSubmit(evt);\n    evt.target.blur()   \n}\n\nfunction onSubmit(evt) {\n    evt.preventDefault();\n}","import axios from 'axios';\n\nexport const server = axios.create({\n  baseURL: 'https://server-flower.herokuapp.com/user',\n});\n\nexport const token = {\n  set(token) {\n    server.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    server.defaults.headers.common.Authorization = '';\n  },\n};\n\n// Реєстрація\nexport const signUp = async body => {\n  try {\n    const response = await server.post('/signup', body);\n    return response;\n  } catch (error) {\n    return error.response.status;\n  }\n};\n\n// Авторизація\nexport const logIn = async body => {\n  try {\n    const { data } = await server.post('/', body);\n    token.set(data.token);\n    return data;\n  } catch (error) {\n    return error.response.status;\n  }\n};\n\n// Вихід\nexport const logOut = async () => {\n  try {\n    const { status } = await server.get('/');\n    if (status === 204) {\n      token.unset();\n    }\n    return status;\n  } catch (error) {\n    return error.response.status;\n  }\n};\n\n// Перевірка. Користувач авторизований?\nexport const validate = async () => {\n  try {\n    const response = await server.get('/validate');\n    return response;\n  } catch (error) {\n    return error.response;\n  }\n};","export function showAlertText(alertRef, textContent) {\n  alertRef.textContent = textContent;\n  alertRef.style.opacity = 1;\n  setTimeout(() => {\n    alertRef.style.opacity = 0;\n  }, 2500);\n}","import { refs } from './helpers/refs';\nimport { signUp } from '../auth';\nimport { onCloseModal } from '../personal-cabinet/registration-modal';\nimport { showAlertText } from './helpers/helpers';\n    \nexport let userName = 'name';\n\nrefs.regForm.addEventListener('submit', onSignupSubmit);\n\nfunction onSignupSubmit(evt) {\n    evt.preventDefault();\n    refs.regSubmitBtn.blur();\n\n    const userInfo = {\n        name: null,\n        email: null,\n        password: null,\n        confirmPassword: null,\n    };\n    const {\n        elements: { name, email, password, confirmPassword}\n    } = evt.currentTarget;\n\n    userInfo.name = name.value;\n    userInfo.email = email.value;\n    userInfo.password = password.value;\n    userInfo.confirmPassword = confirmPassword.value;\n    \n    if (name.value === '' ||\n        email.value === '' ||\n        password.value === '' ||\n        confirmPassword.value === '') {\n        showAlertText(refs.regFormAlertText, 'Будь ласка, заповніть усі поля');\n        return;\n    }\n\n    if (password.value !== confirmPassword.value) {\n        showAlertText(refs.regFormAlertText, 'Паролі не співпадають, спробуйте ще раз');\n        return;\n    }\n\n    refs.regForm.reset();\n    onCloseModal();\n    handleSignUpRes(userInfo);\n}\n\nasync function handleSignUpRes(userInfo) {\n    const res = await signUp(userInfo);\n    \n    if (res === 409) {\n        showAlertText(refs.alertText, 'Такий користувач вже зареєстрований');\n    } else {\n        showAlertText(refs.alertText, 'Для продовження реєстрації, підтвердьте Вашу пошту');\n    }\n}\n// 409: \"Email in use\"","import { refs } from './helpers/refs';\nimport { logIn } from '../auth';\nimport { showAlertText } from './helpers/helpers';\nimport { inputPwdHandlers, hidePwd } from '../personal-cabinet/show-pwd';\n\nexport const TOKEN = 'token';\nexport const userName = 'name';\n\nrefs.headerUserIcon.addEventListener('click', e => e.preventDefault());\ncheckActivePage();\n\nexport function checkActivePage() {\n  if (refs.loginSection === null) {\n    return;\n  }\n  refs.loginForm.addEventListener('submit', onLoginSubmit);\n}\n\nfunction onLoginSubmit(evt) {\n  evt.preventDefault();\n\n  refs.loginSubmitBtn.blur();\n\n  const userInfo = { email: null, password: null };\n  const {\n    elements: { email, password },\n  } = evt.currentTarget;\n\n  userInfo.email = email.value;\n  userInfo.password = password.value;\n\n  if (email.value === '' || password.value === '') {\n    showAlertText(refs.loginFormAlertText, 'Будь ласка, заповніть усі поля');\n    return;\n  }\n  handleLoginRes(userInfo);\n}\n\nexport async function handleLoginRes(userData) {\n  const res = await logIn(userData);\n\n  if (res === 401) {\n    showAlertText(refs.loginFormAlertText, 'Електронна пошта або пароль невірні');\n  } else {\n    goToUserCab();\n    localStorage.setItem(TOKEN, res.token);\n    localStorage.setItem(userName, res.name);\n    refs.profileForm.name.value = res.name;\n    refs.loginForm.reset();\n  }\n}\n\nfunction goToUserCab() {\n  hidePwd(inputPwdHandlers.logPwdBtn, inputPwdHandlers.logPwdInput);\n  refs.loginSection.classList.add('is-hidden');\n  refs.personalCab.classList.remove('is-hidden');\n}\n\n// 401 \"user does not exist\"\n","import { refs } from './helpers/refs';\nimport { logOut } from '../auth';\nimport { TOKEN } from '../auth/login';\nimport { userName } from './sign-up';\n\nrefs.logoutBtn.addEventListener('click', onLogoutBtn);\n\nasync function onLogoutBtn() {\n    await logOut();\n    localStorage.removeItem(TOKEN);\n    localStorage.removeItem(userName);\n    logOutUserCab();\n}\n\nfunction logOutUserCab() {\n    refs.loginSection.classList.remove('is-hidden');\n    refs.personalCab.classList.add('is-hidden');\n}","import { refs } from './helpers/refs';\nimport { token, validate } from '../auth';\nimport { TOKEN } from './login';\n\n\nloginReload();\n\nexport function loginReload() {\n    const localToken = localStorage.getItem('token');\n    if (localToken === null) {\n        return;\n    }\n    token.set(localToken);\n    handleValidateRes();\n}\n\nasync function handleValidateRes() {\n    const res = await validate();\n    if (res === 401) {\n        localStorage.removeItem(TOKEN);\n    } else {\n        localStorage.setItem(TOKEN, res.data.token);\n        let userName = localStorage.getItem('name');\n        if (refs.loginSection === null) {\n            return\n        }\n        showToUserCab(userName)\n    }\n}\n\nfunction showToUserCab(userName) {\n    refs.loginSection.classList.add('is-hidden');\n    refs.personalCab.classList.remove('is-hidden');\n    refs.profileForm.name.value = userName;\n    refs.headerUserIcon.addEventListener('click', e => e.preventDefault());\n}\n// 401 \"message\": \"Not authorized\""],"names":["parcelRequire","$9d37ff60853f730e$var$refs","openMenuBtn","document","querySelector","closeMenuBtn","menu","profileBtn","ordersBtn","notifBtn","favBtn","profile","orders","notif","fav","addEventListener","$9d37ff60853f730e$var$currentContent","classList","add","remove","$9d37ff60853f730e$var$switchBtnVisibility","$9d37ff60853f730e$var$onCloseMenuBtn","evt","$9d37ff60853f730e$var$onMenuItem","$9d37ff60853f730e$var$currentBtn","newContent","newBtn","newCurrentBtn","target","$9d37ff60853f730e$var$isNotNewButton","$9d37ff60853f730e$var$changeCurrentContent","btn","toggle","$bc85d983d32d6970$export$21666b427502ea6d","headerUserIcon","loginForm","regForm","loginSection","personalCab","backdrop","body","openModalBtn","closeModalBtn","regSubmitBtn","loginSubmitBtn","logoutBtn","loginFormAlertText","regFormAlertText","alertText","profileForm","$1f7abdea038faf9e$export$889dcca798167a45","logPwdInput","regPwdInput","logConfPwdInput","logPwdBtn","regPwdBtn","regConfPwdBtn","$1f7abdea038faf9e$var$loginForm","$1f7abdea038faf9e$var$regForm","$1f7abdea038faf9e$var$clickOnShowPwd","$1f7abdea038faf9e$var$handleClick","input","getAttribute","setAttribute","$1f7abdea038faf9e$export$3fccda812188e8cc","$1f7abdea038faf9e$export$a2275f9a8cf3a347","$8161a4e3310b8b09$export$9dc820945641dd09","window","removeEventListener","$8161a4e3310b8b09$var$onEscKeyPress","code","blur","currentTarget","$81f16b76130abf41$var$refs","notifForm","profileFormBtn","notifFormBtn","forgotPwdLink","$81f16b76130abf41$var$onSubmit","preventDefault","$8953c87b21bd174e$export$b4e470744154116f","$parcel$interopDefault","create","baseURL","$8953c87b21bd174e$export$9e1725a4cfeada27","set","token","defaults","headers","common","Authorization","unset","$8953c87b21bd174e$export$cf64224bcd829024","async","post","error","response","status","$8953c87b21bd174e$export$dcb3afa56f3b80bd","data","$8953c87b21bd174e$export$464881f0a7cf0212","get","$8953c87b21bd174e$export$a22775fa5e2eebd9","$333ec0a4757a3970$export$20a080a6d09179ae","alertRef","textContent","style","opacity","setTimeout","userInfo","name","email","password","confirmPassword","elements","value","reset","$e938be478c1afa94$var$handleSignUpRes","$fc1b9b88a3a86dda$var$onLoginSubmit","userData","res","localStorage","setItem","$fc1b9b88a3a86dda$export$2452d42fe06db888","e","$fc1b9b88a3a86dda$export$8df2a8e8a0ed8ef5","removeItem","localToken","getItem","userName","$9da368f66b88c572$var$showToUserCab","$9da368f66b88c572$var$handleValidateRes","$9da368f66b88c572$export$b2f2fd4113e104af"],"version":3,"file":"personal-cabinet.1da37cf2.js.map"}