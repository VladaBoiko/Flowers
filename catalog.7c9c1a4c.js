var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},r=e.parcelRequired7c6;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in a){var r=a[e];delete a[e];var n={id:e,exports:{}};return t[e]=n,r.call(n.exports,n,n.exports),n.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){a[e]=t},e.parcelRequired7c6=r);var n=r("aGajG"),s=r("gBFI5"),i=r("eszG8"),l=r("8MnzK"),o=r("91JdT"),c=r("fov3b");o=r("91JdT");c.reviewsSwiper.enabled=!0;const d={resetFormBtn:document.querySelector(".filter-catalog__clear-all-btn"),form:document.querySelector(".filter-catalog"),catalogList:document.querySelector(".catalog-list")},g={selector:d.catalogList,filterParams:{},page:1,totalPages:1,offset:9,sorting:"rating,1",incrementPage(){this.page+=1},resetPage(){this.page=1,this.filterParams={}},async renderData(){try{const e=await n.APIGetData.getDataByFilter(this.filterParams,this.page,this.offset,this.sorting);this.totalPages=e.totalPage;const t=(0,s.createMarkup)(e.result);(0,i.render)(d.catalogList,t),this.page>=this.totalPages?m.hide():(m.enable(),m.show())}catch(e){console.log("render data on catalog-page",e)}}};d.form.reset(),g.renderData(),d.resetFormBtn.addEventListener("click",(()=>{g.resetPage(),(0,i.clearData)(d.catalogList),d.form.reset(),g.renderData()})),d.form.addEventListener("change",(()=>{(0,i.clearData)(d.catalogList),g.resetPage(),g.filterParams=function(){const e={category:[],sort:[],color:[],amount:[],size:[],form:[],price:[]};return[...d.form].map((t=>{if("INPUT"===t.nodeName&&t.checked){const a=t.parentElement.parentElement.previousElementSibling.textContent,r=t.nextElementSibling.textContent,n=(0,o.getKey)(a,l.filterWords),s="amount"===n||"size"===n?Number.parseInt(r):r;if("price"!==n)-1===e[n].indexOf(r)&&e[n].push(s);else{const a=t.value.split(",");e[n]=a}}})),Object.entries(e).reduce(((e,t)=>{let a=null;return t[1].length>0&&(a="price"!==t[0]?{[t[0]]:t[1].join(",")}:{priseMin:t[1][0],priseMax:t[1][1]}),a?{...e,...a}:{...e}}),{})}(),g.renderData()}));const m={element:document.querySelector(".catalog__btn"),className:"hidden",disable(){this.element.disabled=!0},enable(){this.element.disabled=!1},hide(){this.element.classList.add(this.className)},show(){this.element.classList.remove(this.className)}};m.element.addEventListener("click",(()=>{m.disable(),g.incrementPage(),g.renderData(),(0,o.smoothScroll)(d.catalogList)}));
//# sourceMappingURL=catalog.7c9c1a4c.js.map
