{"mappings":"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","sources":["src/js/menu.js","src/js/favorite-page.js","src/js/catalog/handleFavorite.js","src/js/catalog/handleWatchedHistory.js","src/js/catalog/render.js"],"sourcesContent":["const navbarMenu = document.querySelector('#menu');\nconst burgerMenu = document.querySelector('#burger');\nconst headerMenu = document.querySelector('#header');\n\n// Open Close Navbar Menu on Click Burger\nif (burgerMenu && navbarMenu) {\n  burgerMenu.addEventListener('click', () => {\n    burgerMenu.classList.toggle('is-active');\n    navbarMenu.classList.toggle('is-active');\n  });\n}\n\n// Close Navbar Menu on Click Links\ndocument.querySelectorAll('.menu-link').forEach(link => {\n  link.addEventListener('click', () => {\n    burgerMenu.classList.remove('is-active');\n    navbarMenu.classList.remove('is-active');\n  });\n});\n\n// Fixed Navbar Menu on Window Resize\nwindow.addEventListener('resize', () => {\n  if (window.innerWidth >= 992) {\n    if (navbarMenu.classList.contains('is-active')) {\n      navbarMenu.classList.remove('is-active');\n    }\n  }\n});\n","import { APIGetData } from './api/fetch-cards';\nimport { createMarkup } from './catalog/markup';\nimport { render, clearData } from './catalog/render';\nimport { addClass, removeClass, loadFromLocalStorage } from './catalog/utils';\n\nloadDataFavoritePage();\n\nexport function loadDataFavoritePage() {\n  if (document.querySelector('.favorites.offer')) {\n    const refs = {\n      titleWrapper: document.querySelector('.offer__title-wrapper'),\n      btn: document.querySelector('.favorites__button'),\n      list: document.querySelector('.offer__list--fav'),\n    };\n\n    const favotireListFromLocalStorage = loadFromLocalStorage('Favorites');\n\n    if (\n      !favotireListFromLocalStorage ||\n      favotireListFromLocalStorage.length === 0 ||\n      !Array.isArray(favotireListFromLocalStorage)\n    ) {\n      clearData(refs.list);\n\n      refs.titleWrapper.children[0].textContent = 'В обраному поки що нічого нема';\n      refs.btn.textContent = 'Перейти на головну';\n      refs.btn.href = './index.html';\n      removeClass(refs.titleWrapper.children[1], 'hidden');\n      removeClass(refs.btn, 'favorites__button--centered');\n    } else {\n      refs.titleWrapper.children[0].textContent = 'Обране';\n      refs.btn.textContent = 'Перейти в каталог';\n      refs.btn.href = './catalog.html';\n      addClass(refs.titleWrapper.children[1], 'hidden');\n      addClass(refs.btn, 'favorites__button--centered');\n\n      renderData();\n    }\n\n    async function renderData() {\n      try {\n        const data = await APIGetData.getDataByID(favotireListFromLocalStorage.join(','));\n        const markup = createMarkup(data);\n        clearData(refs.list);\n        render(refs.list, markup);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }\n}\n","import { saveToLocalStorage, loadFromLocalStorage } from './utils';\n// import { loadDataFavoritePage } from '../favorite-page';\n\nconst key = 'Favorites';\n\nexport function handleFavorite() {\n  const favoriteBtns = document.querySelectorAll('.product__favorite');\n\n  favoriteBtns.forEach(favoriteBtn =>\n    favoriteBtn.addEventListener('click', event => {\n      event.preventDefault();\n      const productID = favoriteBtn.closest('.product').id;\n\n      if (productID) {\n        favoriteBtn.classList.toggle('checked');\n\n        const savedListFav = loadFromLocalStorage(key);\n        let newListFav = null;\n\n        if (!savedListFav || !Array.isArray(savedListFav)) {\n          newListFav = [productID];\n          saveToLocalStorage(key, newListFav);\n          return;\n        }\n\n        if (savedListFav.indexOf(productID) === -1) {\n          newListFav = [...savedListFav, productID];\n          saveToLocalStorage(key, newListFav);\n          return;\n        }\n        if (savedListFav.indexOf(productID) > -1) {\n          newListFav = savedListFav.filter(favId => favId !== productID);\n          saveToLocalStorage(key, newListFav);\n\n          if (!favoriteBtn.classList.contains('checked') && document.querySelector('.favorites.offer')) {\n            // loadDataFavoritePage();\n          }\n          return;\n        }\n      }\n    })\n  );\n}\n","import { saveToLocalStorage, loadFromLocalStorage } from './utils';\n\nconst key = 'EarlierWatched';\nconst currentCardId = 'CurrentCardID';\n\nexport function handleWatchedHistory() {\n  const products = document.querySelectorAll('.product');\n\n  products.forEach(product =>\n    product.addEventListener('click', evt => {\n      // event.preventDefault();\n      const productId = product.id;\n      if (\n        !(\n          ((evt.target.nodeName === 'svg' || evt.target.nodeName === 'use') &&\n            evt.target.closest('.product__favorite')) ||\n          evt.target.classList.contains('product__favorite')\n        )\n      ) {\n        saveToLocalStorage(currentCardId, productId);\n      }\n\n      if (productId) {\n        const savedList = loadFromLocalStorage(key);\n\n        if (!savedList) {\n          const newList = [productId];\n          saveToLocalStorage(key, newList);\n        } else if (savedList.indexOf(productId) === -1) {\n          savedList.push(productId);\n          saveToLocalStorage(key, savedList);\n        }\n      }\n    })\n  );\n}\n","import { handleFavorite } from './handleFavorite';\nimport { handleWatchedHistory } from './handleWatchedHistory';\n\nexport const render = (selector, markup) => {\n  selector.insertAdjacentHTML('beforeend', markup);\n  handleFavorite();\n  handleWatchedHistory();\n};\n\nexport const clearData = list => {\n  list.innerHTML = '';\n};\n"],"names":["$8965fb9bdb9f7083$var$navbarMenu","document","querySelector","$8965fb9bdb9f7083$var$burgerMenu","addEventListener","classList","toggle","querySelectorAll","forEach","link","remove","window","innerWidth","contains","$1xo6m","parcelRequire","$8ownn","$68aa6f43e117b0c3$var$key","$56966dd9ca3fa1fb$var$key","$9b3785105e9d69b8$export$b3890eb0ae9dca99","selector","markup","insertAdjacentHTML","favoriteBtn","event","preventDefault","productID","closest","id","savedListFav","loadFromLocalStorage","newListFav","Array","isArray","saveToLocalStorage","indexOf","filter","favId","product","evt","productId","target","nodeName","savedList","push","newList","$9b3785105e9d69b8$export$ec21c014cef0b1e8","list","innerHTML","refs","titleWrapper","btn","favotireListFromLocalStorage","length","children","textContent","href","addClass","async","data","APIGetData","getDataByID","join","$jwgDc","createMarkup","error","console","log","renderData","removeClass","$732ea10bcbd98d8a$export$99af6473500b69df"],"version":3,"file":"favorites.2e81182d.js.map"}