!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var o={id:e,exports:{}};return r[e]=o,t.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},t.parcelRequired7c6=o);var a=o("1xo6m"),i=o("jwgDc"),s=o("8ownn");const c="Favorites";s=o("8ownn");const l="EarlierWatched";const u=(e,t)=>{e.insertAdjacentHTML("beforeend",t),document.querySelectorAll(".product__favorite").forEach((e=>e.addEventListener("click",(t=>{t.preventDefault();const r=e.closest(".product").id;if(r){e.classList.toggle("checked");const t=(0,s.loadFromLocalStorage)(c);let n=null;if(!t||!Array.isArray(t))return n=[r],void(0,s.saveToLocalStorage)(c,n);if(-1===t.indexOf(r))return n=[...t,r],void(0,s.saveToLocalStorage)(c,n);if(t.indexOf(r)>-1)return n=t.filter((e=>e!==r)),(0,s.saveToLocalStorage)(c,n),void(!e.classList.contains("checked")&&document.querySelector(".favorites.offer"))}})))),document.querySelectorAll(".product").forEach((e=>e.addEventListener("click",(t=>{const r=e.id;if(("svg"===t.target.nodeName||"use"===t.target.nodeName)&&t.target.closest(".product__favorite")||t.target.classList.contains("product__favorite")||(0,s.saveToLocalStorage)("CurrentCardID",r),r){const e=(0,s.loadFromLocalStorage)(l);if(e)-1===e.indexOf(r)&&(e.push(r),(0,s.saveToLocalStorage)(l,e));else{const e=[r];(0,s.saveToLocalStorage)(l,e)}}}))))},f=e=>{e.innerHTML=""};var d,g=o("aD4Ga"),m=(s=o("8ownn"),o("g0iWm")),p="Expected a function",v=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,y=/^0b[01]+$/i,b=/^0o[0-7]+$/i,L=parseInt,S="object"==typeof t&&t&&t.Object===Object&&t,w="object"==typeof self&&self&&self.Object===Object&&self,x=S||w||Function("return this")(),T=Object.prototype.toString,E=Math.max,O=Math.min,P=function(){return x.Date.now()};function j(e,t,r){var n,o,a,i,s,c,l=0,u=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError(p);function g(t){var r=n,a=o;return n=o=void 0,l=t,i=e.apply(a,r)}function m(e){return l=e,s=setTimeout(h,t),u?g(e):i}function v(e){var r=e-c;return void 0===c||r>=t||r<0||f&&e-l>=a}function h(){var e=P();if(v(e))return y(e);s=setTimeout(h,function(e){var r=t-(e-c);return f?O(r,a-(e-l)):r}(e))}function y(e){return s=void 0,d&&n?g(e):(n=o=void 0,i)}function b(){var e=P(),r=v(e);if(n=arguments,o=this,c=e,r){if(void 0===s)return m(c);if(f)return s=setTimeout(h,t),g(c)}return void 0===s&&(s=setTimeout(h,t)),i}return t=N(t)||0,D(r)&&(u=!!r.leading,a=(f="maxWait"in r)?E(N(r.maxWait)||0,t):a,d="trailing"in r?!!r.trailing:d),b.cancel=function(){void 0!==s&&clearTimeout(s),l=0,n=c=o=s=void 0},b.flush=function(){return void 0===s?i:y(P())},b}function D(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function N(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==T.call(e)}(e))return NaN;if(D(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=D(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(v,"");var r=y.test(e);return r||b.test(e)?L(e.slice(2),r?2:8):h.test(e)?NaN:+e}d=function(e,t,r){var n=!0,o=!0;if("function"!=typeof e)throw new TypeError(p);return D(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),j(e,t,{leading:n,maxWait:t,trailing:o})},m.reviewsSwiper.enabled=!0;const _={resetFormBtn:document.querySelector(".filter-catalog__clear-all-btn"),form:document.querySelector(".filter-catalog"),catalogList:document.querySelector(".catalog-list")},q={selector:_.catalogList,filterParams:{},page:1,totalPages:1,offset:9,sorting:"rating,1",incrementPage(){this.page+=1},resetPage(){this.page=1,this.filterParams={}},async renderData(){try{const e=await a.APIGetData.getDataByFilter(this.filterParams,this.page,this.offset,this.sorting);this.totalPages=e.totalPage;const t=(0,i.createMarkup)(e.result);u(_.catalogList,t),this.page>=this.totalPages?M.hide():(M.enable(),M.show())}catch(e){console.log("render data on catalog-page",e)}}};_.form.reset(),q.renderData(),_.resetFormBtn.addEventListener("click",(()=>{q.resetPage(),f(_.catalogList),_.form.reset(),q.renderData()})),_.form.addEventListener("change",e(d)((()=>{f(_.catalogList),q.resetPage(),q.filterParams=function(){const e={category:[],sort:[],color:[],amount:[],size:[],form:[],price:[]};return[..._.form].map((t=>{if("INPUT"===t.nodeName&&t.checked){const r=t.parentElement.parentElement.previousElementSibling.textContent,n=t.nextElementSibling.textContent,o=(0,s.getKey)(r,g.filterWords),a="amount"===o||"size"===o?Number.parseInt(n):n;if("price"!==o)-1===e[o].indexOf(n)&&e[o].push(a);else{const r=t.value.split(",");e[o]=r}}})),Object.entries(e).reduce(((e,t)=>{let r=null;return t[1].length>0&&(r="price"!==t[0]?{[t[0]]:t[1].join(",")}:{priseMin:t[1][0],priseMax:t[1][1]}),r?{...e,...r}:{...e}}),{})}(),q.renderData()})),300);const M={element:document.querySelector(".catalog__btn"),className:"hidden",disable(){this.element.disabled=!0},enable(){this.element.disabled=!1},hide(){this.element.classList.add(this.className)},show(){this.element.classList.remove(this.className)}};M.element.addEventListener("click",(()=>{M.disable(),q.incrementPage(),q.renderData(),(0,s.smoothScroll)(_.catalogList)}))}();
//# sourceMappingURL=catalog.34dbebad.js.map
