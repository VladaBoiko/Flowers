{"mappings":"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","sources":["src/js/menu2.js","src/js/personal-cabinet/menu.js","src/js/auth/helpers/refs.js","src/js/personal-cabinet/show-pwd.js","src/js/personal-cabinet/registration-modal.js","src/js/personal-cabinet/additional-prevent.js","src/js/auth.js","src/js/auth/helpers/helpers.js","src/js/auth/sign-up.js","src/js/auth/login.js","src/js/auth/logout.js","src/js/auth/validate.js"],"sourcesContent":["const navbarMenu = document.querySelector('.menu');\nconst burgerMenu = document.querySelector('#burger');\nconst headerMenu = document.querySelector('#header');\n\n// Open Close Navbar Menu on Click Burger\nif (burgerMenu && navbarMenu) {\n  burgerMenu.addEventListener('click', () => {\n    burgerMenu.classList.toggle('is-active');\n    navbarMenu.classList.toggle('is-active');\n  });\n}\n\n// Close Navbar Menu on Click Links\ndocument.querySelectorAll('.menu-link').forEach(link => {\n  link.addEventListener('click', () => {\n    burgerMenu.classList.remove('is-active');\n    navbarMenu.classList.remove('is-active');\n  });\n});\n\n// Fixed Navbar Menu on Window Resize\n// window.addEventListener('resize', () => {\n//   if (window.innerWidth >= 992) {\n//     if (navbarMenu.classList.contains('is-active')) {\n//       navbarMenu.classList.remove('is-active');\n//     }\n//   }\n// });\n","const refs = {\n    openMenuBtn: document.querySelector('[data-open-menu-btn]'),\n    closeMenuBtn: document.querySelector('[data-close-menu-btn]'),\n    menu: document.querySelector('[data-personal-menu]'),\n    \n    profileBtn: document.querySelector('[data-pers-btn]'),\n    ordersBtn: document.querySelector('[data-order-btn]'),\n    notifBtn: document.querySelector('[data-notif-btn]'),\n    favBtn: document.querySelector('[data-fav-btn]'),\n\n    profile: document.querySelector('[data-profile]'),\n    orders: document.querySelector('[data-pers-orders]'),\n    notif: document.querySelector('[data-pers-notif]'),\n    fav: document.querySelector('[data-pers-fav]'),\n}\n\nrefs.openMenuBtn.addEventListener('click', openMobMenu);\nrefs.closeMenuBtn.addEventListener('click', onCloseMenuBtn);\nrefs.menu.addEventListener('click', onMenuList);\n\nlet currentContent = document.querySelector('.pers-current-js');\nlet currentBtn = document.querySelector('.currentBtn');\n \nfunction onMenuList(evt) {\n    onMenuItem(evt, refs.profile, refs.profileBtn);\n    onMenuItem(evt, refs.orders, refs.ordersBtn);\n    onMenuItem(evt, refs.notif, refs.notifBtn);\n    onMenuItem(evt, refs.fav, refs.favBtn);\n}\n\nfunction onMenuItem(evt, newContent, newBtn) {\n    if (isNotNewButton(evt, newBtn)) {\n        return;\n    }\n    changeCurrentContent(newContent);\n    changeCurrentBtn(newBtn);\n}\n\nfunction isNotNewButton(evt, newBtn) {\n    return evt.target !== newBtn;\n}\n\nfunction changeCurrentContent(newContent) {\n    currentContent.classList.remove('pers-current-js');\n    currentContent.classList.add('visually-hidden');\n\n    currentContent = newContent;\n    newContent.classList.remove('visually-hidden');\n    newContent.classList.add('pers-current-js');\n    onCloseMenuBtn()\n}\n\nfunction changeCurrentBtn(newCurrentBtn) {\n    currentBtn.classList.remove('currentBtn');\n    currentBtn = newCurrentBtn;\n    newCurrentBtn.classList.add('currentBtn');\n}\n\nfunction openMobMenu() {\n    currentContent.classList.add('visually-hidden');\n    refs.menu.classList.remove('is-hidden');\n    switchBtnVisibility(refs.openMenuBtn);\n    switchBtnVisibility(refs.closeMenuBtn);\n}\n\nfunction onCloseMenuBtn() {\n    currentContent.classList.remove('visually-hidden');\n    refs.menu.classList.add('is-hidden');\n    switchBtnVisibility(refs.openMenuBtn);\n    switchBtnVisibility(refs.closeMenuBtn);\n}\n\nfunction switchBtnVisibility(btn) {\n    btn.classList.toggle('is-hidden');\n}","export const refs = {\n    headerUserIcon: document.querySelector('[data-header-user-icon]'),\n    loginForm: document.querySelector('[data-login-form]'),\n    regForm: document.querySelector('[data-reg-form]'),\n    loginSection: document.querySelector('[data-login-section]'),\n    personalCab: document.querySelector('[data-pers-cab-main]'),\n    backdrop: document.querySelector('[data-reg-modal]'),\n    body: document.querySelector(\"body\"),\n\n    openModalBtn: document.querySelector('[data-reg-modal-open]'), //Реєстрація\n    closeModalBtn: document.querySelector('[data-reg-modal-close]'), //cross\n    regSubmitBtn: document.querySelector('[data-submit-reg-btn]'), //Зареєструватися\n    loginSubmitBtn: document.querySelector('[data-login-btn]'), //Вхід\n    logoutBtn: document.querySelector('[data-logout-btn]'), //Вийти\n\n    loginFormAlertText: document.querySelector('[data-login-alert-text]'),\n    regFormAlertText: document.querySelector('[data-reg-alert-text]'),\n    alertText: document.querySelector('[data-pers-alert-text]'),\n\n    profileForm: document.querySelector('[data-profile-form]'),\n};","import { refs } from '../auth/helpers/refs';\n\nexport const inputPwdHandlers = {\n    logPwdInput: document.querySelector('[data-log-pwd-input]'),\n    regPwdInput: document.querySelector('[data-reg-pwd-input]'),\n    logConfPwdInput: document.querySelector('[data-reg-conf-pwd-input]'),\n\n    logPwdBtn: document.querySelector('[data-log-pwd-btn]'),\n    regPwdBtn: document.querySelector('[data-reg-pwd-btn]'),\n    regConfPwdBtn: document.querySelector('[data-reg-conf-pwd-btn]'),\n}\n\nconst { loginForm, regForm } = refs;\n\nloginForm.addEventListener('click', clickOnShowPwd);\nregForm.addEventListener('click', clickOnShowPwd);\n\nfunction clickOnShowPwd({target}) {\n    handleClick(target, inputPwdHandlers.logPwdBtn, inputPwdHandlers.logPwdInput);\n    handleClick(target, inputPwdHandlers.regPwdBtn, inputPwdHandlers.regPwdInput);\n    handleClick(target, inputPwdHandlers.regConfPwdBtn, inputPwdHandlers.logConfPwdInput);\n}\n\nfunction handleClick(target, btn, input) {\n    if (target === btn) {\n        if (input.getAttribute('type') === 'password') {\n            showPwd(btn, input);\n            return;\n        }\n        if (input.getAttribute('type') === 'text') {\n            hidePwd(btn, input)\n            return;\n        }\n    }\n}\n\nexport function showPwd(btn, input) {\n    input.setAttribute('type', 'text');\n    btn.classList.add('show-pwd');\n}\n\nexport function hidePwd(btn, input) {\n    input.setAttribute('type', 'password');\n    btn.classList.remove('show-pwd');\n}","import { refs } from '../auth/helpers/refs';\nimport { inputPwdHandlers, hidePwd} from './show-pwd';\n\nrefs.openModalBtn.addEventListener('click', onOpenModal);\nrefs.closeModalBtn.addEventListener('click', onCloseModal);\nrefs.backdrop.addEventListener('click', onBackdropClick);\n\nexport function onOpenModal() {\n  window.addEventListener('keydown', onEscKeyPress);\n  refs.body.classList.add('show-modal');\n  refs.openModalBtn.classList.add('is-active');\n  hidePwd(inputPwdHandlers.logPwdBtn, inputPwdHandlers.logPwdInput);\n}\n\nexport function onCloseModal() {\n  window.removeEventListener('keydown', onEscKeyPress);\n  refs.body.classList.remove('show-modal');\n  refs.openModalBtn.classList.remove('is-active');\n  hidePwd(inputPwdHandlers.regPwdBtn, inputPwdHandlers.regPwdInput);\n  hidePwd(inputPwdHandlers.regConfPwdBtn, inputPwdHandlers.logConfPwdInput);\n}\n\nfunction onBackdropClick(evt) {\n  if (evt.currentTarget === evt.target) {\n    onCloseModal();\n  }\n}\n\nfunction onEscKeyPress(evt) {\n  if (evt.code === 'Escape') {\n    onCloseModal();\n    refs.openModalBtn.blur();\n  }\n}","const refs = {\n    profileForm: document.querySelector('[data-profile-form]'),\n    notifForm: document.querySelector('[data-pers-notif-form]'),\n    profileFormBtn: document.querySelector('[data-profile-form-btn]'),\n    notifFormBtn: document.querySelector('[data-notif-form-btn]'),\n    forgotPwdLink: document.querySelector('[data-forgot-pwd-link]'),\n}\n\nrefs.profileForm.addEventListener('submit', onSubmitProfileForm);\nrefs.notifForm.addEventListener('submit', onSubmitNotifForm);\nrefs.forgotPwdLink.addEventListener('click', onLinkClick);\n\nfunction onSubmitProfileForm(evt) {\n    onSubmit(evt);\n    refs.profileFormBtn.blur();\n}\n\nfunction onSubmitNotifForm(evt) {\n    onSubmit(evt);\n    refs.notifFormBtn.blur();\n}\n\nfunction onLinkClick(evt) {\n    onSubmit(evt);\n    evt.target.blur()   \n}\n\nfunction onSubmit(evt) {\n    evt.preventDefault();\n}","import axios from 'axios';\n\nexport const server = axios.create({\n  baseURL: 'https://server-flower.herokuapp.com/user',\n});\n\nexport const token = {\n  set(token) {\n    server.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    server.defaults.headers.common.Authorization = '';\n  },\n};\n\n// Реєстрація\nexport const signUp = async body => {\n  try {\n    const response = await server.post('/signup', body);\n    return response;\n  } catch (error) {\n    return error.response.status;\n  }\n};\n\n// Авторизація\nexport const logIn = async body => {\n  try {\n    const { data } = await server.post('/', body);\n    token.set(data.token);\n    return data;\n  } catch (error) {\n    return error.response.status;\n  }\n};\n\n// Вихід\nexport const logOut = async () => {\n  try {\n    const { status } = await server.get('/');\n    if (status === 204) {\n      token.unset();\n    }\n    return status;\n  } catch (error) {\n    return error.response.status;\n  }\n};\n\n// Перевірка. Користувач авторизований?\nexport const validate = async () => {\n  try {\n    const response = await server.get('/validate');\n    return response;\n  } catch (error) {\n    return error.response;\n  }\n};","export function showAlertText(alertRef, textContent) {\n  alertRef.textContent = textContent;\n  alertRef.style.opacity = 1;\n  setTimeout(() => {\n    alertRef.style.opacity = 0;\n  }, 2500);\n}","import { refs } from './helpers/refs';\nimport { signUp } from '../auth';\nimport { onCloseModal } from '../personal-cabinet/registration-modal';\nimport { showAlertText } from './helpers/helpers';\n    \nexport let userName = 'name';\n\nrefs.regForm.addEventListener('submit', onSignupSubmit);\n\nfunction onSignupSubmit(evt) {\n    evt.preventDefault();\n    refs.regSubmitBtn.blur();\n\n    const userInfo = {\n        name: null,\n        email: null,\n        password: null,\n        confirmPassword: null,\n    };\n    const {\n        elements: { name, email, password, confirmPassword}\n    } = evt.currentTarget;\n\n    userInfo.name = name.value;\n    userInfo.email = email.value;\n    userInfo.password = password.value;\n    userInfo.confirmPassword = confirmPassword.value;\n    \n    if (name.value === '' ||\n        email.value === '' ||\n        password.value === '' ||\n        confirmPassword.value === '') {\n        showAlertText(refs.regFormAlertText, 'Будь ласка, заповніть усі поля');\n        return;\n    }\n\n    if (password.value !== confirmPassword.value) {\n        showAlertText(refs.regFormAlertText, 'Паролі не співпадають, спробуйте ще раз');\n        return;\n    }\n\n    refs.regForm.reset();\n    onCloseModal();\n    handleSignUpRes(userInfo);\n}\n\nasync function handleSignUpRes(userInfo) {\n    const res = await signUp(userInfo);\n    \n    if (res === 409) {\n        showAlertText(refs.alertText, 'Такий користувач вже зареєстрований');\n    } else {\n        showAlertText(refs.alertText, 'Для продовження реєстрації, підтвердьте Вашу пошту');\n    }\n}\n// 409: \"Email in use\"","import { refs } from './helpers/refs';\nimport { logIn } from '../auth';\nimport { showAlertText } from './helpers/helpers';\nimport { inputPwdHandlers, hidePwd } from '../personal-cabinet/show-pwd';\n\nexport const TOKEN = 'token';\nexport const userName = 'name';\n\nrefs.headerUserIcon.addEventListener('click', e => e.preventDefault());\ncheckActivePage();\n\nexport function checkActivePage() {\n  if (refs.loginSection === null) {\n    return;\n  }\n  refs.loginForm.addEventListener('submit', onLoginSubmit);\n}\n\nfunction onLoginSubmit(evt) {\n  evt.preventDefault();\n\n  refs.loginSubmitBtn.blur();\n\n  const userInfo = { email: null, password: null };\n  const {\n    elements: { email, password },\n  } = evt.currentTarget;\n\n  userInfo.email = email.value;\n  userInfo.password = password.value;\n\n  if (email.value === '' || password.value === '') {\n    showAlertText(refs.loginFormAlertText, 'Будь ласка, заповніть усі поля');\n    return;\n  }\n  handleLoginRes(userInfo);\n}\n\nexport async function handleLoginRes(userData) {\n  const res = await logIn(userData);\n\n  if (res === 401) {\n    showAlertText(refs.loginFormAlertText, 'Електронна пошта або пароль невірні');\n  } else {\n    goToUserCab();\n    localStorage.setItem(TOKEN, res.token);\n    localStorage.setItem(userName, res.name);\n    refs.profileForm.name.value = res.name;\n    refs.loginForm.reset();\n  }\n}\n\nfunction goToUserCab() {\n  hidePwd(inputPwdHandlers.logPwdBtn, inputPwdHandlers.logPwdInput);\n  refs.loginSection.classList.add('is-hidden');\n  refs.personalCab.classList.remove('is-hidden');\n}\n\n// 401 \"user does not exist\"\n","import { refs } from './helpers/refs';\nimport { logOut } from '../auth';\nimport { TOKEN } from '../auth/login';\nimport { userName } from './sign-up';\n\nrefs.logoutBtn.addEventListener('click', onLogoutBtn);\n\nasync function onLogoutBtn() {\n    await logOut();\n    localStorage.removeItem(TOKEN);\n    localStorage.removeItem(userName);\n    logOutUserCab();\n}\n\nfunction logOutUserCab() {\n    refs.loginSection.classList.remove('is-hidden');\n    refs.personalCab.classList.add('is-hidden');\n}","import { refs } from './helpers/refs';\nimport { token, validate } from '../auth';\nimport { TOKEN } from './login';\n\n\nloginReload();\n\nexport function loginReload() {\n    const localToken = localStorage.getItem('token');\n    if (localToken === null) {\n        return;\n    }\n    token.set(localToken);\n    handleValidateRes();\n}\n\nasync function handleValidateRes() {\n    const res = await validate();\n    if (res === 401) {\n        localStorage.removeItem(TOKEN);\n    } else {\n        localStorage.setItem(TOKEN, res.data.token);\n        let userName = localStorage.getItem('name');\n        if (refs.loginSection === null) {\n            return\n        }\n        showToUserCab(userName)\n    }\n}\n\nfunction showToUserCab(userName) {\n    refs.loginSection.classList.add('is-hidden');\n    refs.personalCab.classList.remove('is-hidden');\n    refs.profileForm.name.value = userName;\n    refs.headerUserIcon.addEventListener('click', e => e.preventDefault());\n}\n// 401 \"message\": \"Not authorized\""],"names":["$3563eecea97528e0$var$navbarMenu","document","querySelector","$3563eecea97528e0$var$burgerMenu","addEventListener","classList","toggle","querySelectorAll","forEach","link","remove","$aee8c677bec51305$var$refs","openMenuBtn","closeMenuBtn","menu","profileBtn","ordersBtn","notifBtn","favBtn","profile","orders","notif","fav","$aee8c677bec51305$var$currentContent","add","$aee8c677bec51305$var$switchBtnVisibility","$aee8c677bec51305$var$onCloseMenuBtn","evt","$aee8c677bec51305$var$onMenuItem","$aee8c677bec51305$var$currentBtn","newContent","newBtn","newCurrentBtn","target","$aee8c677bec51305$var$isNotNewButton","$aee8c677bec51305$var$changeCurrentContent","btn","$3289e356d24957fb$export$21666b427502ea6d","headerUserIcon","loginForm","regForm","loginSection","personalCab","backdrop","body","openModalBtn","closeModalBtn","regSubmitBtn","loginSubmitBtn","logoutBtn","loginFormAlertText","regFormAlertText","alertText","profileForm","$887085f3ba0a8cbe$export$889dcca798167a45","logPwdInput","regPwdInput","logConfPwdInput","logPwdBtn","regPwdBtn","regConfPwdBtn","$887085f3ba0a8cbe$var$loginForm","$887085f3ba0a8cbe$var$regForm","$887085f3ba0a8cbe$var$clickOnShowPwd","$887085f3ba0a8cbe$var$handleClick","input","getAttribute","setAttribute","$887085f3ba0a8cbe$export$3fccda812188e8cc","$887085f3ba0a8cbe$export$a2275f9a8cf3a347","$f855d51e68344848$export$9dc820945641dd09","window","removeEventListener","$f855d51e68344848$var$onEscKeyPress","code","blur","currentTarget","$ebae3d6c0f7baad1$var$refs","notifForm","profileFormBtn","notifFormBtn","forgotPwdLink","$ebae3d6c0f7baad1$var$onSubmit","preventDefault","$a8c8b369db0e2137$export$b4e470744154116f","$parcel$interopDefault","parcelRequire","create","baseURL","$a8c8b369db0e2137$export$9e1725a4cfeada27","set","token","defaults","headers","common","Authorization","unset","$a8c8b369db0e2137$export$cf64224bcd829024","async","post","error","response","status","$a8c8b369db0e2137$export$dcb3afa56f3b80bd","data","$a8c8b369db0e2137$export$464881f0a7cf0212","get","$a8c8b369db0e2137$export$a22775fa5e2eebd9","$39830ee397d850aa$export$20a080a6d09179ae","alertRef","textContent","style","opacity","setTimeout","userInfo","name","email","password","confirmPassword","elements","value","reset","$27b0e873d92dab64$var$handleSignUpRes","$85080d92b1bc24e0$export$c916c075a7028158","$85080d92b1bc24e0$export$c86d3ca66f38ed60","$85080d92b1bc24e0$var$onLoginSubmit","userData","res","localStorage","setItem","$85080d92b1bc24e0$export$2452d42fe06db888","e","$85080d92b1bc24e0$export$8df2a8e8a0ed8ef5","removeItem","localToken","getItem","userName","$31dc3656deda7b57$var$showToUserCab","$31dc3656deda7b57$var$handleValidateRes","$31dc3656deda7b57$export$b2f2fd4113e104af"],"version":3,"file":"personal-cabinet.6c4b5ca1.js.map"}