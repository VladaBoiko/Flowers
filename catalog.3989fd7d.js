!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequired7c6=i);var a,o=i("1xo6m"),s=i("jwgDc"),l=i("dkdns"),c=i("aD4Ga"),u=i("8ownn"),f=i("g0iWm"),d=(u=i("8ownn"),"Expected a function"),g=/^\s+|\s+$/g,m=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,h=/^0o[0-7]+$/i,v=parseInt,b="object"==typeof t&&t&&t.Object===Object&&t,y="object"==typeof self&&self&&self.Object===Object&&self,w=b||y||Function("return this")(),x=Object.prototype.toString,P=Math.max,D=Math.min,j=function(){return w.Date.now()};function E(e,t,n){var r,i,a,o,s,l,c=0,u=!1,f=!1,g=!0;if("function"!=typeof e)throw new TypeError(d);function m(t){var n=r,a=i;return r=i=void 0,c=t,o=e.apply(a,n)}function p(e){return c=e,s=setTimeout(v,t),u?m(e):o}function h(e){var n=e-l;return void 0===l||n>=t||n<0||f&&e-c>=a}function v(){var e=j();if(h(e))return b(e);s=setTimeout(v,function(e){var n=t-(e-l);return f?D(n,a-(e-c)):n}(e))}function b(e){return s=void 0,g&&r?m(e):(r=i=void 0,o)}function y(){var e=j(),n=h(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return p(l);if(f)return s=setTimeout(v,t),m(l)}return void 0===s&&(s=setTimeout(v,t)),o}return t=N(t)||0,L(n)&&(u=!!n.leading,a=(f="maxWait"in n)?P(N(n.maxWait)||0,t):a,g="trailing"in n?!!n.trailing:g),y.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=i=s=void 0},y.flush=function(){return void 0===s?o:b(j())},y}function L(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function N(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==x.call(e)}(e))return NaN;if(L(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=L(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(g,"");var n=p.test(e);return n||h.test(e)?v(e.slice(2),n?2:8):m.test(e)?NaN:+e}a=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError(d);return L(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),E(e,t,{leading:r,maxWait:t,trailing:i})},f.reviewsSwiper.enabled=!0;const O={resetFormBtn:document.querySelector(".filter-catalog__clear-all-btn"),form:document.querySelector(".filter-catalog"),catalogList:document.querySelector(".catalog-list")},T={selector:O.catalogList,filterParams:{},page:1,totalPages:1,offset:9,sorting:"rating,1",incrementPage(){this.page+=1},resetPage(){this.page=1,this.filterParams={}},async renderData(){try{const e=await o.APIGetData.getDataByFilter(this.filterParams,this.page,this.offset,this.sorting);this.totalPages=e.totalPage;const t=(0,s.createMarkup)(e.result);(0,l.render)(O.catalogList,t),this.page>=this.totalPages?S.hide():(S.enable(),S.show())}catch(e){console.log("render data on catalog-page",e)}}};O.form.reset(),T.renderData(),O.resetFormBtn.addEventListener("click",(()=>{T.resetPage(),(0,l.clearData)(O.catalogList),O.form.reset(),T.renderData()})),O.form.addEventListener("change",e(a)((()=>{(0,l.clearData)(O.catalogList),T.resetPage(),T.filterParams=function(){const e={category:[],sort:[],color:[],amount:[],size:[],form:[],price:[]};return[...O.form].map((t=>{if("INPUT"===t.nodeName&&t.checked){const n=t.parentElement.parentElement.previousElementSibling.textContent,r=t.nextElementSibling.textContent,i=(0,u.getKey)(n,c.filterWords),a="amount"===i||"size"===i?Number.parseInt(r):r;if("price"!==i)-1===e[i].indexOf(r)&&e[i].push(a);else{const n=t.value.split(",");e[i]=n}}})),Object.entries(e).reduce(((e,t)=>{let n=null;return t[1].length>0&&(n="price"!==t[0]?{[t[0]]:t[1].join(",")}:{priseMin:t[1][0],priseMax:t[1][1]}),n?{...e,...n}:{...e}}),{})}(),T.renderData()})),300);const S={element:document.querySelector(".catalog__btn"),className:"hidden",disable(){this.element.disabled=!0},enable(){this.element.disabled=!1},hide(){this.element.classList.add(this.className)},show(){this.element.classList.remove(this.className)}};S.element.addEventListener("click",(()=>{S.disable(),T.incrementPage(),T.renderData(),(0,u.smoothScroll)(O.catalogList)}))}();
//# sourceMappingURL=catalog.3989fd7d.js.map
