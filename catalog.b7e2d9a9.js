!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in r){var a=r[e];delete r[e];var i={id:e,exports:{}};return t[e]=i,a.call(i.exports,i,i.exports),i.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){r[e]=t},e.parcelRequired7c6=a);var i=a("3zrJA"),n=a("jwgDc");const l=(e,t)=>{e.insertAdjacentHTML("beforeend",t)};var s=a("dynyT"),o=a("3LV0x");const c="EarlierWatched";var f=a("6bmen");const d={resetFormBtn:document.querySelector(".filter-catalog__clear-all-btn"),form:document.querySelector(".filter-catalog"),catalogList:document.querySelector(".catalog-list")},m=(document.querySelector(".catalog__btn"),{category:"Категорія",sort:"Вид",color:"Колір",amount:"Кількість",size:"Розмір",form:"Форма букету",price:"Ціна"}),u={data:[],selector:d.catalogList,filterParams:{},page:1,limit:10,incrementPage(){this.page+=1},resetPage(){this.page=1,this.filterParams={}},async renderData(){try{this.data=await i.APIGetData.getData();const e=Object.keys(m);if(Object.keys(this.filterParams).length){const t=this.data.filter((t=>0===this.filterParams[e[0]].length||this.filterParams[e[0]].includes(t[e[0]]))),r=t.filter((t=>0===this.filterParams[e[1]].length||this.filterParams[e[1]].includes(t[e[1]]))).filter((t=>0===this.filterParams[e[2]].length||this.filterParams[e[2]].includes(t[e[2]]))),a=r.filter((t=>0===this.filterParams[e[3]].length||this.filterParams[e[3]].includes(t[e[3]]))).filter((t=>0===this.filterParams[e[4]].length||this.filterParams[e[4]].includes(t[e[4]]))),i=a.filter((t=>0===this.filterParams[e[5]].length||this.filterParams[e[5]].includes(t[e[5]]))).filter((t=>{if(0===this.filterParams[e[6]].length)return!0;let r="";return t.price<30?r="до 30":t.price>=30&&t.price<45?r="30 - 45":t.price>=45&&t.price<65?r="45 - 65":t.price>=65&&t.price<80?r="65 - 80":t.price>=80&&(r="від 80"),this.filterParams[e[6]].includes(r)}));this.data=i}const t=(0,n.createMarkup)(this.data);l(d.catalogList,t),(0,s.handleFavorite)(),document.querySelectorAll(".product").forEach((e=>e.addEventListener("click",(t=>{const r=e.id;if(r){const e=(0,o.loadFromLocalStorage)(c);if("undefined"===e){const e=[r];(0,o.saveToLocalStorage)(c,e)}else-1===e.indexOf(r)&&(e.push(r),(0,o.saveToLocalStorage)(c,e))}}))))}catch(e){console.log(e)}}};d.form.reset(),u.renderData(),d.resetFormBtn.addEventListener("click",(()=>{u.resetPage(),d.form.reset(),u.renderData()})),d.form.addEventListener("change",(()=>{(0,n.clearData)(d.catalogList),u.resetPage(),u.filterParams=function(){const e={category:[],sort:[],color:[],amount:[],size:[],form:[],price:[]};return[...d.form].map((t=>{if("INPUT"===t.nodeName&&t.checked){const r=t.parentElement.parentElement.previousElementSibling.textContent,a=t.nextElementSibling.textContent,i=(0,f.default)(r,m),n="amount"===i||"size"===i?Number.parseInt(a):a;-1===e[i].indexOf(a)&&e[i].push(n)}})),e}(),u.renderData()}))}();
//# sourceMappingURL=catalog.b7e2d9a9.js.map
