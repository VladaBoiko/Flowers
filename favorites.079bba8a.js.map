{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,S,aCAAC,EAAAD,EAAA,SCAAE,EAAAF,EAAA,SAEA,MAAMG,EAAM,iBDCL,MAAMC,EAAS,CAACC,EAAUC,KAC/BD,EAASE,mBAAmB,YAAaD,IACzC,EAAAL,EAAAO,kBCAiBC,SAASC,iBAAiB,YAElCC,SAAQC,GACfA,EAAQC,iBAAiB,SAASC,IAGhC,MAAMC,EAAYH,EAAQI,GAC1B,GAAID,EAAW,CACb,MAAME,GAAe,EAAAf,EAAAgB,sBAAqBf,GAE1C,GAAqB,cAAjBc,EAA8B,CAChC,MAAME,EAAa,CAACJ,IACpB,EAAAb,EAAAkB,oBAAmBjB,EAAKgB,E,MACqB,IAApCF,EAAaI,QAAQN,KAC9BE,EAAaK,KAAKP,IAClB,EAAAb,EAAAkB,oBAAmBjB,EAAKc,G,MDdV,E,yCDCxB,MAAMM,EAAO,CACXC,aAAcf,SAASgB,cAAc,yBACrCC,IAAKjB,SAASgB,cAAc,sBAC5BE,KAAMlB,SAASgB,cAAc,sBAGzBG,GAA+B,EAAA1B,EAAAgB,sBAAqB,aA8B1D,SAASW,EAASC,EAASC,GACpBD,EAAQE,UAAUC,SAASF,IAAWD,EAAQE,UAAUE,IAAIH,E,CAEnE,SAASI,EAAYL,EAASC,GACxBD,EAAQE,UAAUC,SAASF,IAAWD,EAAQE,UAAUI,OAAOL,E,CAhChC,cAAjCH,GAAwF,IAAxCA,EAA6BS,QAC/Ed,EAAKC,aAAac,SAAS,GAAGC,YAAc,iCAC5ChB,EAAKG,IAAIa,YAAc,qBACvBhB,EAAKG,IAAIc,KAAO,eAChBL,EAAYZ,EAAKC,aAAac,SAAS,GAAI,UAC3CH,EAAYZ,EAAKG,IAAK,iCAEtBH,EAAKC,aAAac,SAAS,GAAGC,YAAc,SAC5ChB,EAAKG,IAAIa,YAAc,oBACvBhB,EAAKG,IAAIc,KAAO,iBAChBX,EAASN,EAAKC,aAAac,SAAS,GAAI,UACxCT,EAASN,EAAKG,IAAK,+BAKrBe,iBACE,IACE,MAAMC,QAAa3C,EAAA4C,WAAWC,UACxBC,GAAe,EAAAC,EAAAC,YAAWL,EAAMd,GAChCtB,GAAS,EAAA0C,EAAAC,cAAaJ,GAC5BzC,EAAOmB,EAAKI,KAAMrB,E,CAClB,MAAO4C,GACPC,QAAQC,IAAIF,E,EAVdG,G","sources":["src/js/favorite-page.js","src/js/catalog/render.js","src/js/catalog/handleWatchedHistory.js"],"sourcesContent":["import { APIGetData } from './catalog/fetch-cards';\nimport { createMarkup, clearData } from './catalog/markup';\nimport { render } from './catalog/render';\nimport { handleFavorite } from './catalog/favoriteHandle';\nimport { loadFromLocalStorage } from './catalog/localStorage';\nimport { filterById } from './catalog/filter';\n\nconst refs = {\n  titleWrapper: document.querySelector('.offer__title-wrapper'),\n  btn: document.querySelector('.favorites__button'),\n  list: document.querySelector('.offer__list--fav'),\n};\n\nconst favotireListFromLocalStorage = loadFromLocalStorage('Favorites');\n\nif (favotireListFromLocalStorage === 'undefined' || favotireListFromLocalStorage.length === 0) {\n  refs.titleWrapper.children[0].textContent = 'В обраному поки що нічого нема';\n  refs.btn.textContent = 'Перейти на головну';\n  refs.btn.href = './index.html';\n  removeClass(refs.titleWrapper.children[1], 'hidden');\n  removeClass(refs.btn, 'favorites__button--centered');\n} else {\n  refs.titleWrapper.children[0].textContent = 'Обране';\n  refs.btn.textContent = 'Перейти в каталог';\n  refs.btn.href = './catalog.html';\n  addClass(refs.titleWrapper.children[1], 'hidden');\n  addClass(refs.btn, 'favorites__button--centered');\n\n  renderData();\n}\n\nasync function renderData() {\n  try {\n    const data = await APIGetData.getData();\n    const filteredData = filterById(data, favotireListFromLocalStorage);\n    const markup = createMarkup(filteredData);\n    render(refs.list, markup);\n  } catch (error) {\n    console.log(error);\n  }\n}\n// ========================================================================================\n\nfunction addClass(element, cssClass) {\n  if (!element.classList.contains(cssClass)) element.classList.add(cssClass);\n}\nfunction removeClass(element, cssClass) {\n  if (element.classList.contains(cssClass)) element.classList.remove(cssClass);\n}\n","import { handleFavorite } from './favoriteHandle';\nimport { handleWatchedHistory } from './handleWatchedHistory';\n\nexport const render = (selector, markup) => {\n  selector.insertAdjacentHTML('beforeend', markup);\n  handleFavorite();\n  handleWatchedHistory();\n};\n","import { saveToLocalStorage, loadFromLocalStorage } from './localStorage';\n\nconst key = 'EarlierWatched';\n\nexport function handleWatchedHistory() {\n  const products = document.querySelectorAll('.product');\n\n  products.forEach(product =>\n    product.addEventListener('click', event => {\n      // event.preventDefault();\n\n      const productID = product.id;\n      if (productID) {\n        const savedListFav = loadFromLocalStorage(key);\n\n        if (savedListFav === 'undefined') {\n          const newListFav = [productID];\n          saveToLocalStorage(key, newListFav);\n        } else if (savedListFav.indexOf(productID) === -1) {\n          savedListFav.push(productID);\n          saveToLocalStorage(key, savedListFav);\n        }\n      }\n    })\n  );\n}\n"],"names":["$3zrJA","parcelRequire","$dynyT","$3LV0x","$56966dd9ca3fa1fb$var$key","$9b3785105e9d69b8$export$b3890eb0ae9dca99","selector","markup","insertAdjacentHTML","handleFavorite","document","querySelectorAll","forEach","product","addEventListener","event","productID","id","savedListFav","loadFromLocalStorage","newListFav","saveToLocalStorage","indexOf","push","$732ea10bcbd98d8a$var$refs","titleWrapper","querySelector","btn","list","$732ea10bcbd98d8a$var$favotireListFromLocalStorage","$732ea10bcbd98d8a$var$addClass","element","cssClass","classList","contains","add","$732ea10bcbd98d8a$var$removeClass","remove","length","children","textContent","href","async","data","APIGetData","getData","filteredData","$iDd0l","filterById","$jwgDc","createMarkup","error","console","log","$732ea10bcbd98d8a$var$renderData"],"version":3,"file":"favorites.079bba8a.js.map"}